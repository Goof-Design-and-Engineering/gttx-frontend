import{S as nt,i as it,s as ut,a as $,k as f,r as w,z,c as _,l as c,m as d,u as y,h as n,A as J,p as o,b as I,F as a,Y as ae,B as K,K as me,Z as le,_ as dt,g as X,d as Z,C as j,L as pt,J as at,o as mt,v as ht,X as $t,n as ft}from"../chunks/index.7f1a9c88.js";import{u as ct}from"../chunks/useForm.256e94d5.js";/* empty css                                */import{c as _t,p as lt}from"../chunks/pocketbase.2fde5c2d.js";import{H as st,a as ye}from"../chunks/HintGroup.0d943f9c.js";import{v as he,r as $e,e as gt}from"../chunks/validators.9266e364.js";import{g as Me}from"../chunks/navigation.e42409cb.js";function ot(u){let e,t;return{c(){e=f("p"),t=w(u[3])},l(l){e=c(l,"P",{});var i=d(e);t=y(i,u[3]),i.forEach(n)},m(l,i){I(l,e,i),a(e,t)},p(l,i){i&8&&ht(t,l[3])},d(l){l&&n(e)}}}function vt(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function bt(u){let e,t;return e=new ye({props:{on:"required",$$slots:{default:[vt]},$$scope:{ctx:u}}}),{c(){z(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,i){K(e,l,i),t=!0},p(l,i){const r={};i&4096&&(r.$$scope={dirty:i,ctx:l}),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Et(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function wt(u){let e,t,l;return{c(){e=f("i"),t=f("center"),l=w("Email is not valid")},l(i){e=c(i,"I",{});var r=d(e);t=c(r,"CENTER",{});var p=d(t);l=y(p,"Email is not valid"),p.forEach(n),r.forEach(n)},m(i,r){I(i,e,r),a(e,t),a(t,l)},p:ft,d(i){i&&n(e)}}}function yt(u){let e,t,l,i;return e=new ye({props:{on:"required",$$slots:{default:[Et]},$$scope:{ctx:u}}}),l=new ye({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[wt]},$$scope:{ctx:u}}}),{c(){z(e.$$.fragment),t=$(),z(l.$$.fragment)},l(r){J(e.$$.fragment,r),t=_(r),J(l.$$.fragment,r)},m(r,p){K(e,r,p),I(r,t,p),K(l,r,p),i=!0},p(r,p){const g={};p&4096&&(g.$$scope={dirty:p,ctx:r}),e.$set(g);const b={};p&4096&&(b.$$scope={dirty:p,ctx:r}),l.$set(b)},i(r){i||(X(e.$$.fragment,r),X(l.$$.fragment,r),i=!0)},o(r){Z(e.$$.fragment,r),Z(l.$$.fragment,r),i=!1},d(r){j(e,r),r&&n(t),j(l,r)}}}function It(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function Tt(u){let e,t,l,i,r,p,g,b,Q,se,T,oe,S,ne,h,F,Ie,Te,P,Pe,D,Ae,x,Le,Se,A,Ue,C,Ne,ie,q,O,G,ke,R,Be,De,V,M,Ce,W,qe,Oe,H,Ve,_e,ge,ee,ue,He,ve,L,U,fe,Fe,N,ce,Ge,k,de,pe,Re,We,v=u[3]&&ot(u);return S=new st({props:{for:"username",$$slots:{default:[bt]},$$scope:{ctx:u}}}),D=new st({props:{for:"email",$$slots:{default:[yt]},$$scope:{ctx:u}}}),C=new ye({props:{for:"password",on:"required",$$slots:{default:[It]},$$scope:{ctx:u}}}),{c(){v&&v.c(),e=$(),t=f("h1"),l=w("Signup"),i=$(),r=f("form"),p=f("div"),g=f("div"),b=f("label"),Q=w("Username"),se=$(),T=f("input"),oe=$(),z(S.$$.fragment),ne=$(),h=f("div"),F=f("label"),Ie=w("Email Address"),Te=$(),P=f("input"),Pe=$(),z(D.$$.fragment),Ae=$(),x=f("label"),Le=w("Password"),Se=$(),A=f("input"),Ue=$(),z(C.$$.fragment),Ne=$(),ie=f("fieldset"),q=f("div"),O=f("label"),G=f("input"),ke=w(`
				I agree to the `),R=f("a"),Be=w("Terms and Conditions"),De=$(),V=f("label"),M=f("input"),Ce=w(`
				I agree to the `),W=f("a"),qe=w("Privacy Policy"),Oe=$(),H=f("button"),Ve=w("Sign up"),ge=$(),ee=f("center"),ue=f("p"),He=w("Or create an account with:"),ve=$(),L=f("div"),U=f("a"),fe=f("i"),Fe=$(),N=f("a"),ce=f("i"),Ge=$(),k=f("a"),de=f("i"),this.h()},l(s){v&&v.l(s),e=_(s),t=c(s,"H1",{class:!0});var m=d(t);l=y(m,"Signup"),m.forEach(n),i=_(s),r=c(s,"FORM",{method:!0});var E=d(r);p=c(E,"DIV",{class:!0});var Y=d(p);g=c(Y,"DIV",{});var B=d(g);b=c(B,"LABEL",{for:!0});var Ye=d(b);Q=y(Ye,"Username"),Ye.forEach(n),se=_(B),T=c(B,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),oe=_(B),J(S.$$.fragment,B),B.forEach(n),ne=_(Y),h=c(Y,"DIV",{});var te=d(h);F=c(te,"LABEL",{for:!0});var ze=d(F);Ie=y(ze,"Email Address"),ze.forEach(n),Te=_(te),P=c(te,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Pe=_(te),J(D.$$.fragment,te),te.forEach(n),Y.forEach(n),Ae=_(E),x=c(E,"LABEL",{for:!0});var Je=d(x);Le=y(Je,"Password"),Je.forEach(n),Se=_(E),A=c(E,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Ue=_(E),J(C.$$.fragment,E),Ne=_(E),ie=c(E,"FIELDSET",{});var Ke=d(ie);q=c(Ke,"DIV",{class:!0});var be=d(q);O=c(be,"LABEL",{for:!0});var Ee=d(O);G=c(Ee,"INPUT",{type:!0,id:!0,name:!0}),ke=y(Ee,`
				I agree to the `),R=c(Ee,"A",{href:!0,target:!0});var Xe=d(R);Be=y(Xe,"Terms and Conditions"),Xe.forEach(n),Ee.forEach(n),De=_(be),V=c(be,"LABEL",{for:!0});var we=d(V);M=c(we,"INPUT",{type:!0,id:!0,name:!0}),Ce=y(we,`
				I agree to the `),W=c(we,"A",{href:!0,target:!0});var Ze=d(W);qe=y(Ze,"Privacy Policy"),Ze.forEach(n),we.forEach(n),be.forEach(n),Ke.forEach(n),Oe=_(E),H=c(E,"BUTTON",{});var je=d(H);Ve=y(je,"Sign up"),je.forEach(n),E.forEach(n),ge=_(s),ee=c(s,"CENTER",{});var Qe=d(ee);ue=c(Qe,"P",{});var xe=d(ue);He=y(xe,"Or create an account with:"),xe.forEach(n),Qe.forEach(n),ve=_(s),L=c(s,"DIV",{class:!0});var re=d(L);U=c(re,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var et=d(U);fe=c(et,"I",{class:!0}),d(fe).forEach(n),et.forEach(n),Fe=_(re),N=c(re,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var tt=d(N);ce=c(tt,"I",{class:!0}),d(ce).forEach(n),tt.forEach(n),Ge=_(re),k=c(re,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var rt=d(k);de=c(rt,"I",{class:!0}),d(de).forEach(n),rt.forEach(n),re.forEach(n),this.h()},h(){o(t,"class","page-name-header"),o(b,"for","username"),o(T,"type","username"),o(T,"name","username"),o(T,"id","username"),o(T,"placeholder","Goof"),o(F,"for","email"),o(P,"type","email"),o(P,"name","email"),o(P,"id","email"),o(P,"placeholder","goof@goofle.com"),o(p,"class","grid"),o(x,"for","password"),o(A,"type","password"),o(A,"name","password"),o(A,"id","password"),o(A,"placeholder","Password"),o(G,"type","checkbox"),o(G,"id","terms"),o(G,"name","terms"),o(R,"href","/terms"),o(R,"target","_blank"),o(O,"for","terms"),o(M,"type","checkbox"),o(M,"id","privacy"),o(M,"name","privacy"),o(W,"href","/privacy"),o(W,"target","_blank"),o(V,"for","privacy"),o(q,"class","grid"),H.disabled=_e=!u[4].valid,o(r,"method","POST"),o(fe,"class","bi bi-google"),o(U,"href","https://www.google.com"),o(U,"role","button"),o(U,"class","oauth-button secondary"),o(U,"id","google-oauth"),o(U,"data-tooltip","Signup with Google"),o(ce,"class","bi bi-discord"),o(N,"href","https://www.discord.com"),o(N,"role","button"),o(N,"class","oauth-button secondary"),o(N,"id","discord-oauth"),o(N,"data-tooltip","Signup with Discord"),o(de,"class","bi bi-github"),o(k,"href","https://www.github.com"),o(k,"role","button"),o(k,"class","oauth-button secondary"),o(k,"id","github-oauth"),o(k,"data-tooltip","Signup with GitHub"),o(L,"class","grid")},m(s,m){v&&v.m(s,m),I(s,e,m),I(s,t,m),a(t,l),I(s,i,m),I(s,r,m),a(r,p),a(p,g),a(g,b),a(b,Q),a(g,se),a(g,T),ae(T,u[0]),a(g,oe),K(S,g,null),a(p,ne),a(p,h),a(h,F),a(F,Ie),a(h,Te),a(h,P),ae(P,u[1]),a(h,Pe),K(D,h,null),a(r,Ae),a(r,x),a(x,Le),a(r,Se),a(r,A),ae(A,u[2]),a(r,Ue),K(C,r,null),a(r,Ne),a(r,ie),a(ie,q),a(q,O),a(O,G),a(O,ke),a(O,R),a(R,Be),a(q,De),a(q,V),a(V,M),a(V,Ce),a(V,W),a(W,qe),a(r,Oe),a(r,H),a(H,Ve),I(s,ge,m),I(s,ee,m),a(ee,ue),a(ue,He),I(s,ve,m),I(s,L,m),a(L,U),a(U,fe),a(L,Fe),a(L,N),a(N,ce),a(L,Ge),a(L,k),a(k,de),pe=!0,Re||(We=[me(T,"input",u[8]),le(he.call(null,T,[$e])),me(P,"input",u[9]),le(he.call(null,P,[$e,gt])),me(A,"input",u[10]),le(he.call(null,A,[$e])),le(he.call(null,G,[$e])),le(he.call(null,M,[$e])),me(H,"click",u[6]),le(u[5].call(null,r)),me(r,"submit",dt(u[7]))],Re=!0)},p(s,[m]){s[3]?v?v.p(s,m):(v=ot(s),v.c(),v.m(e.parentNode,e)):v&&(v.d(1),v=null),m&1&&ae(T,s[0]);const E={};m&4096&&(E.$$scope={dirty:m,ctx:s}),S.$set(E),m&2&&P.value!==s[1]&&ae(P,s[1]);const Y={};m&4096&&(Y.$$scope={dirty:m,ctx:s}),D.$set(Y),m&4&&A.value!==s[2]&&ae(A,s[2]);const B={};m&4096&&(B.$$scope={dirty:m,ctx:s}),C.$set(B),(!pe||m&16&&_e!==(_e=!s[4].valid))&&(H.disabled=_e)},i(s){pe||(X(S.$$.fragment,s),X(D.$$.fragment,s),X(C.$$.fragment,s),pe=!0)},o(s){Z(S.$$.fragment,s),Z(D.$$.fragment,s),Z(C.$$.fragment,s),pe=!1},d(s){v&&v.d(s),s&&n(e),s&&n(t),s&&n(i),s&&n(r),j(S),j(D),j(C),s&&n(ge),s&&n(ee),s&&n(ve),s&&n(L),Re=!1,pt(We)}}}var Pt=!0;function At(u,e,t){let l,i;at(u,_t,h=>t(11,l=h));const r=ct();at(u,r,h=>t(4,i=h));var p="",g="",b="";let Q;async function se(){try{const h={username:p,email:g,emailVisibility:Pt,password:b,passwordConfirm:b,role:"facilitator"};await lt.collection("users").create(h)!=null&&await lt.collection("users").authWithPassword(h.username,h.password),await Me("/createorg")}catch(h){console.log(h),t(3,Q=h),await Me("/signup")}}mt(async()=>{if(l)Me("/createorg");else return});function T(h){$t.call(this,u,h)}function oe(){p=this.value,t(0,p)}function S(){g=this.value,t(1,g)}function ne(){b=this.value,t(2,b)}return[p,g,b,Q,i,r,se,T,oe,S,ne]}class Lt extends nt{constructor(e){super(),it(this,e,At,Tt,ut,{})}}function St(u){let e,t,l;return t=new Lt({}),{c(){e=f("body"),z(t.$$.fragment)},l(i){e=c(i,"BODY",{});var r=d(e);J(t.$$.fragment,r),r.forEach(n)},m(i,r){I(i,e,r),K(t,e,null),l=!0},p:ft,i(i){l||(X(t.$$.fragment,i),l=!0)},o(i){Z(t.$$.fragment,i),l=!1},d(i){i&&n(e),j(t)}}}function Ut(u){return ct(),[]}class Vt extends nt{constructor(e){super(),it(this,e,Ut,St,ut,{})}}export{Vt as default};
