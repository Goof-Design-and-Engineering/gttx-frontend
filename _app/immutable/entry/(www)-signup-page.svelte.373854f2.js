import{S as Me,i as We,s as Ye,k as i,r as w,a as b,z as W,l as u,m,u as T,h as o,c as E,A as Y,p as c,b as y,G as n,V as x,B as z,M as le,W as ee,Y as ze,g as j,d as J,C as K,N as je,L as Oe,o as Je,n as oe,q as Be,R as Ke}from"../chunks/index.d8729f0b.js";import{c as Qe,p as He}from"../chunks/pocketbase.f160ef4f.js";import{H as Fe,a as de}from"../chunks/HintGroup.6e42d805.js";import{u as Xe}from"../chunks/useForm.f7d2ec9d.js";import{v as ne,r as se,e as Ze}from"../chunks/validators.6e79bf68.js";import{g as Le}from"../chunks/navigation.1f27d07a.js";function xe(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function et(f){let t,a;return t=new de({props:{on:"required",$$slots:{default:[xe]},$$scope:{ctx:f}}}),{c(){W(t.$$.fragment)},l(l){Y(t.$$.fragment,l)},m(l,r){z(t,l,r),a=!0},p(l,r){const e={};r&8192&&(e.$$scope={dirty:r,ctx:l}),t.$set(e)},i(l){a||(j(t.$$.fragment,l),a=!0)},o(l){J(t.$$.fragment,l),a=!1},d(l){K(t,l)}}}function tt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function rt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("Email is not valid"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"Email is not valid"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function at(f){let t,a,l,r;return t=new de({props:{on:"required",$$slots:{default:[tt]},$$scope:{ctx:f}}}),l=new de({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[rt]},$$scope:{ctx:f}}}),{c(){W(t.$$.fragment),a=b(),W(l.$$.fragment)},l(e){Y(t.$$.fragment,e),a=E(e),Y(l.$$.fragment,e)},m(e,s){z(t,e,s),y(e,a,s),z(l,e,s),r=!0},p(e,s){const d={};s&8192&&(d.$$scope={dirty:s,ctx:e}),t.$set(d);const I={};s&8192&&(I.$$scope={dirty:s,ctx:e}),l.$set(I)},i(e){r||(j(t.$$.fragment,e),j(l.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),J(l.$$.fragment,e),r=!1},d(e){K(t,e),e&&o(a),K(l,e)}}}function lt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function Ge(f){let t,a;return{c(){t=i("center"),a=i("input"),this.h()},l(l){t=u(l,"CENTER",{});var r=m(t);a=u(r,"INPUT",{style:!0,type:!0}),r.forEach(o),this.h()},h(){Be(a,"border","2px solid red"),Be(a,"border-radius","5px"),Be(a,"text-align","center"),c(a,"type","text"),a.value=f[3],a.readOnly=!0},m(l,r){y(l,t,r),n(t,a)},p(l,r){r&8&&a.value!==l[3]&&(a.value=l[3])},d(l){l&&o(t)}}}function nt(f){let t,a,l,r,e,s,d,I,V,g,te,B,re,U,A,$,ie,P,me,C,_e,Q,he,$e,N,ve,S,ge,ae,k,q,O,be,H,Ee,ye,D,F,we,G,Te,Ie,L,Pe,ue,Ne,X,Ue,Re;B=new Fe({props:{for:"username",$$slots:{default:[et]},$$scope:{ctx:f}}}),C=new Fe({props:{for:"email",$$slots:{default:[at]},$$scope:{ctx:f}}}),S=new de({props:{for:"password",on:"required",$$slots:{default:[lt]},$$scope:{ctx:f}}});let v=f[3]&&Ge(f);return{c(){t=i("h1"),a=w("Signup"),l=b(),r=i("form"),e=i("div"),s=i("div"),d=i("label"),I=w("Username"),V=b(),g=i("input"),te=b(),W(B.$$.fragment),re=b(),U=i("div"),A=i("label"),$=w("Email Address"),ie=b(),P=i("input"),me=b(),W(C.$$.fragment),_e=b(),Q=i("label"),he=w("Password"),$e=b(),N=i("input"),ve=b(),W(S.$$.fragment),ge=b(),ae=i("fieldset"),k=i("div"),q=i("label"),O=i("input"),be=w(`
				I agree to the `),H=i("a"),Ee=w("Terms and Conditions"),ye=b(),D=i("label"),F=i("input"),we=w(`
				I agree to the `),G=i("a"),Te=w("Privacy Policy"),Ie=b(),L=i("button"),Pe=w("Sign up"),Ne=b(),v&&v.c(),this.h()},l(p){t=u(p,"H1",{class:!0});var _=m(t);a=T(_,"Signup"),_.forEach(o),l=E(p),r=u(p,"FORM",{method:!0});var h=m(r);e=u(h,"DIV",{class:!0});var M=m(e);s=u(M,"DIV",{});var R=m(s);d=u(R,"LABEL",{for:!0});var Ae=m(d);I=T(Ae,"Username"),Ae.forEach(o),V=E(R),g=u(R,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),te=E(R),Y(B.$$.fragment,R),R.forEach(o),re=E(M),U=u(M,"DIV",{});var Z=m(U);A=u(Z,"LABEL",{for:!0});var Ce=m(A);$=T(Ce,"Email Address"),Ce.forEach(o),ie=E(Z),P=u(Z,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),me=E(Z),Y(C.$$.fragment,Z),Z.forEach(o),M.forEach(o),_e=E(h),Q=u(h,"LABEL",{for:!0});var Se=m(Q);he=T(Se,"Password"),Se.forEach(o),$e=E(h),N=u(h,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),ve=E(h),Y(S.$$.fragment,h),ge=E(h),ae=u(h,"FIELDSET",{});var ke=m(ae);k=u(ke,"DIV",{class:!0});var fe=m(k);q=u(fe,"LABEL",{for:!0});var ce=m(q);O=u(ce,"INPUT",{type:!0,id:!0,name:!0}),be=T(ce,`
				I agree to the `),H=u(ce,"A",{href:!0,target:!0});var qe=m(H);Ee=T(qe,"Terms and Conditions"),qe.forEach(o),ce.forEach(o),ye=E(fe),D=u(fe,"LABEL",{for:!0});var pe=m(D);F=u(pe,"INPUT",{type:!0,id:!0,name:!0}),we=T(pe,`
				I agree to the `),G=u(pe,"A",{href:!0,target:!0});var De=m(G);Te=T(De,"Privacy Policy"),De.forEach(o),pe.forEach(o),fe.forEach(o),ke.forEach(o),Ie=E(h),L=u(h,"BUTTON",{"aria-busy":!0});var Ve=m(L);Pe=T(Ve,"Sign up"),Ve.forEach(o),Ne=E(h),v&&v.l(h),h.forEach(o),this.h()},h(){c(t,"class","page-name-header"),c(d,"for","username"),c(g,"type","username"),c(g,"name","username"),c(g,"id","username"),c(g,"placeholder","Goof"),c(A,"for","email"),c(P,"type","email"),c(P,"name","email"),c(P,"id","email"),c(P,"placeholder","goof@goofle.com"),c(e,"class","grid"),c(Q,"for","password"),c(N,"type","password"),c(N,"name","password"),c(N,"id","password"),c(N,"placeholder","Password"),c(O,"type","checkbox"),c(O,"id","terms"),c(O,"name","terms"),c(H,"href","/terms"),c(H,"target","_blank"),c(q,"for","terms"),c(F,"type","checkbox"),c(F,"id","privacy"),c(F,"name","privacy"),c(G,"href","/privacy"),c(G,"target","_blank"),c(D,"for","privacy"),c(k,"class","grid"),L.disabled=ue=!f[5].valid,c(L,"aria-busy",f[4]),c(r,"method","POST")},m(p,_){y(p,t,_),n(t,a),y(p,l,_),y(p,r,_),n(r,e),n(e,s),n(s,d),n(d,I),n(s,V),n(s,g),x(g,f[0]),n(s,te),z(B,s,null),n(e,re),n(e,U),n(U,A),n(A,$),n(U,ie),n(U,P),x(P,f[1]),n(U,me),z(C,U,null),n(r,_e),n(r,Q),n(Q,he),n(r,$e),n(r,N),x(N,f[2]),n(r,ve),z(S,r,null),n(r,ge),n(r,ae),n(ae,k),n(k,q),n(q,O),n(q,be),n(q,H),n(H,Ee),n(k,ye),n(k,D),n(D,F),n(D,we),n(D,G),n(G,Te),n(r,Ie),n(r,L),n(L,Pe),n(r,Ne),v&&v.m(r,null),X=!0,Ue||(Re=[le(g,"input",f[9]),ee(ne.call(null,g,[se])),le(P,"input",f[10]),ee(ne.call(null,P,[se,Ze])),le(N,"input",f[11]),ee(ne.call(null,N,[se])),ee(ne.call(null,O,[se])),ee(ne.call(null,F,[se])),le(L,"click",f[7]),ee(f[6].call(null,r)),le(r,"submit",ze(f[8]))],Ue=!0)},p(p,[_]){_&1&&x(g,p[0]);const h={};_&8192&&(h.$$scope={dirty:_,ctx:p}),B.$set(h),_&2&&P.value!==p[1]&&x(P,p[1]);const M={};_&8192&&(M.$$scope={dirty:_,ctx:p}),C.$set(M),_&4&&N.value!==p[2]&&x(N,p[2]);const R={};_&8192&&(R.$$scope={dirty:_,ctx:p}),S.$set(R),(!X||_&32&&ue!==(ue=!p[5].valid))&&(L.disabled=ue),(!X||_&16)&&c(L,"aria-busy",p[4]),p[3]?v?v.p(p,_):(v=Ge(p),v.c(),v.m(r,null)):v&&(v.d(1),v=null)},i(p){X||(j(B.$$.fragment,p),j(C.$$.fragment,p),j(S.$$.fragment,p),X=!0)},o(p){J(B.$$.fragment,p),J(C.$$.fragment,p),J(S.$$.fragment,p),X=!1},d(p){p&&o(t),p&&o(l),p&&o(r),K(B),K(C),K(S),v&&v.d(),Ue=!1,je(Re)}}}var st=!0;function ot(f,t,a){let l,r;Oe(f,Qe,$=>a(12,l=$));const e=Xe();Oe(f,e,$=>a(5,r=$));var s="",d="",I="";let V,g=!1;async function te(){try{a(4,g=!0),a(3,V=!1);const $={username:s,email:d,emailVisibility:st,password:I,passwordConfirm:I,role:"facilitator"};await He.collection("users").create($)!=null&&await He.collection("users").authWithPassword($.username,$.password),await Le("/createorg")}catch($){a(4,g=!1),console.log($),a(3,V=$),await Le("/signup")}}Je(async()=>{if(l)Le("/createorg");else return});function B($){Ke.call(this,f,$)}function re(){s=this.value,a(0,s)}function U(){d=this.value,a(1,d)}function A(){I=this.value,a(2,I)}return[s,d,I,V,g,r,e,te,B,re,U,A]}class it extends Me{constructor(t){super(),We(this,t,ot,nt,Ye,{})}}function ut(f){let t,a,l;return a=new it({}),{c(){t=i("body"),W(a.$$.fragment)},l(r){t=u(r,"BODY",{});var e=m(t);Y(a.$$.fragment,e),e.forEach(o)},m(r,e){y(r,t,e),z(a,t,null),l=!0},p:oe,i(r){l||(j(a.$$.fragment,r),l=!0)},o(r){J(a.$$.fragment,r),l=!1},d(r){r&&o(t),K(a)}}}class ht extends Me{constructor(t){super(),We(this,t,null,ut,Ye,{})}}export{ht as default};
