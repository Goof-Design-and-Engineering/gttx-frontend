import{S as Se,i as De,s as Ge,D as Me,e as fe,b as _,H as Ve,g as H,d as B,h as s,L as Ce,o as We,R as Ye,n as E,w as ze,f as je,k as c,r as A,a as g,z as x,l as p,m,u as C,c as k,A as ee,p as u,G as f,V as ue,B as te,M as Z,W as $e,Y as Je,C as le,N as Ke,q as Ee}from"../chunks/index.f25a3516.js";import{c as Fe,p as He}from"../chunks/pocketbase.026f421a.js";import{H as Qe,a as ge}from"../chunks/HintGroup.aa7a84a4.js";import{u as Xe,v as Oe,r as Ue,e as Ze}from"../chunks/validators.75e44f34.js";import{g as ve}from"../chunks/navigation.7a60c459.js";function xe(n){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function et(n){let l,r,t=!n[4]&&qe(n);return{c(){t&&t.c(),l=fe()},l(e){t&&t.l(e),l=fe()},m(e,a){t&&t.m(e,a),_(e,l,a),r=!0},p(e,a){e[4]?t&&(ze(),B(t,1,1,()=>{t=null}),je()):t?(t.p(e,a),a&16&&H(t,1)):(t=qe(e),t.c(),H(t,1),t.m(l.parentNode,l))},i(e){r||(H(t),r=!0)},o(e){B(t),r=!1},d(e){t&&t.d(e),e&&s(l)}}}function qe(n){let l,r,t,e,a,i,b,h,S,y,V,O,W,Y,w,T,U,ce,N,pe,re,ae,D,G,z,j,de,oe,L,P,J,me,I,K,_e,R,Q,se,ie,ne,q,be,F,he,ke;y=new Qe({props:{for:"email",$$slots:{default:[rt]},$$scope:{ctx:n}}}),U=new ge({props:{for:"password",on:"required",$$slots:{default:[at]},$$scope:{ctx:n}}});let v=n[3]&&Be(n);return{c(){l=c("h1"),r=A("Login"),t=g(),e=c("form"),a=c("label"),i=A("Email Address"),b=g(),h=c("input"),S=g(),x(y.$$.fragment),V=g(),O=c("label"),W=A("Password"),Y=g(),w=c("input"),T=g(),x(U.$$.fragment),ce=g(),N=c("button"),pe=A("Login"),ae=g(),v&&v.c(),D=g(),G=c("center"),z=c("p"),j=c("s"),de=A("Or login with:"),oe=g(),L=c("div"),P=c("a"),J=c("i"),me=g(),I=c("a"),K=c("i"),_e=g(),R=c("a"),Q=c("i"),se=g(),ie=c("hr"),ne=g(),q=c("button"),be=A("Signup"),this.h()},l(o){l=p(o,"H1",{class:!0});var d=m(l);r=C(d,"Login"),d.forEach(s),t=k(o),e=p(o,"FORM",{});var $=m(e);a=p($,"LABEL",{for:!0});var X=m(a);i=C(X,"Email Address"),X.forEach(s),b=k($),h=p($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),S=k($),ee(y.$$.fragment,$),V=k($),O=p($,"LABEL",{for:!0});var we=m(O);W=C(we,"Password"),we.forEach(s),Y=k($),w=p($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),T=k($),ee(U.$$.fragment,$),ce=k($),N=p($,"BUTTON",{"aria-busy":!0});var ye=m(N);pe=C(ye,"Login"),ye.forEach(s),$.forEach(s),ae=k(o),v&&v.l(o),D=k(o),G=p(o,"CENTER",{});var Te=m(G);z=p(Te,"P",{});var Le=m(z);j=p(Le,"S",{});var Ne=m(j);de=C(Ne,"Or login with:"),Ne.forEach(s),Le.forEach(s),Te.forEach(s),oe=k(o),L=p(o,"DIV",{class:!0});var M=m(L);P=p(M,"A",{role:!0,class:!0,id:!0,"data-tooltip":!0});var Ie=m(P);J=p(Ie,"I",{class:!0}),m(J).forEach(s),Ie.forEach(s),me=k(M),I=p(M,"A",{"aria-disabled":!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var Pe=m(I);K=p(Pe,"I",{class:!0}),m(K).forEach(s),Pe.forEach(s),_e=k(M),R=p(M,"A",{role:!0,class:!0,id:!0,"data-tooltip":!0});var Re=m(R);Q=p(Re,"I",{class:!0}),m(Q).forEach(s),Re.forEach(s),M.forEach(s),se=k(o),ie=p(o,"HR",{}),ne=k(o),q=p(o,"BUTTON",{id:!0});var Ae=m(q);be=C(Ae,"Signup"),Ae.forEach(s),this.h()},h(){u(l,"class","page-name-header"),u(a,"for","email"),u(h,"type","email"),u(h,"name","email"),u(h,"id","email"),u(h,"placeholder","goof@goofle.com"),u(O,"for","password"),u(w,"type","password"),u(w,"name","password"),u(w,"id","password"),u(w,"placeholder","Password"),N.disabled=re=!n[5].valid,u(N,"aria-busy",n[2]),u(J,"class","bi bi-google"),u(P,"role","button"),u(P,"class","oauth-button secondary"),u(P,"id","google-oauth"),u(P,"data-tooltip","Login with Google"),u(K,"class","bi bi-discord"),u(I,"aria-disabled","true"),u(I,"role","button"),u(I,"class","oauth-button secondary"),u(I,"id","discord-oauth"),u(I,"data-tooltip","Login with Discord"),u(Q,"class","bi bi-github"),u(R,"role","button"),u(R,"class","oauth-button secondary"),u(R,"id","github-oauth"),u(R,"data-tooltip","Login with GitHub"),u(L,"class","grid"),u(q,"id","signup_button")},m(o,d){_(o,l,d),f(l,r),_(o,t,d),_(o,e,d),f(e,a),f(a,i),f(e,b),f(e,h),ue(h,n[0]),f(e,S),te(y,e,null),f(e,V),f(e,O),f(O,W),f(e,Y),f(e,w),ue(w,n[1]),f(e,T),te(U,e,null),f(e,ce),f(e,N),f(N,pe),_(o,ae,d),v&&v.m(o,d),_(o,D,d),_(o,G,d),f(G,z),f(z,j),f(j,de),_(o,oe,d),_(o,L,d),f(L,P),f(P,J),f(L,me),f(L,I),f(I,K),f(L,_e),f(L,R),f(R,Q),_(o,se,d),_(o,ie,d),_(o,ne,d),_(o,q,d),f(q,be),F=!0,he||(ke=[Z(h,"input",n[10]),$e(Oe.call(null,h,[Ue,Ze])),Z(w,"input",n[11]),$e(Oe.call(null,w,[Ue])),Z(N,"click",n[7]),$e(n[6].call(null,e)),Z(e,"submit",Je(n[9])),Z(q,"click",n[8])],he=!0)},p(o,d){d&1&&h.value!==o[0]&&ue(h,o[0]);const $={};d&32768&&($.$$scope={dirty:d,ctx:o}),y.$set($),d&2&&w.value!==o[1]&&ue(w,o[1]);const X={};d&32768&&(X.$$scope={dirty:d,ctx:o}),U.$set(X),(!F||d&32&&re!==(re=!o[5].valid))&&(N.disabled=re),(!F||d&4)&&u(N,"aria-busy",o[2]),o[3]?v?v.p(o,d):(v=Be(o),v.c(),v.m(D.parentNode,D)):v&&(v.d(1),v=null)},i(o){F||(H(y.$$.fragment,o),H(U.$$.fragment,o),F=!0)},o(o){B(y.$$.fragment,o),B(U.$$.fragment,o),F=!1},d(o){o&&s(l),o&&s(t),o&&s(e),le(y),le(U),o&&s(ae),v&&v.d(o),o&&s(D),o&&s(G),o&&s(oe),o&&s(L),o&&s(se),o&&s(ie),o&&s(ne),o&&s(q),he=!1,Ke(ke)}}}function tt(n){let l;return{c(){l=A("This is a mandatory field")},l(r){l=C(r,"This is a mandatory field")},m(r,t){_(r,l,t)},d(r){r&&s(l)}}}function lt(n){let l,r,t;return{c(){l=c("i"),r=c("center"),t=A("Email is not valid")},l(e){l=p(e,"I",{});var a=m(l);r=p(a,"CENTER",{});var i=m(r);t=C(i,"Email is not valid"),i.forEach(s),a.forEach(s)},m(e,a){_(e,l,a),f(l,r),f(r,t)},p:E,d(e){e&&s(l)}}}function rt(n){let l,r,t,e;return l=new ge({props:{on:"required",$$slots:{default:[tt]},$$scope:{ctx:n}}}),t=new ge({props:{on:"email",hideWhenRequired:!0,class:"login-hint",$$slots:{default:[lt]},$$scope:{ctx:n}}}),{c(){x(l.$$.fragment),r=g(),x(t.$$.fragment)},l(a){ee(l.$$.fragment,a),r=k(a),ee(t.$$.fragment,a)},m(a,i){te(l,a,i),_(a,r,i),te(t,a,i),e=!0},p(a,i){const b={};i&32768&&(b.$$scope={dirty:i,ctx:a}),l.$set(b);const h={};i&32768&&(h.$$scope={dirty:i,ctx:a}),t.$set(h)},i(a){e||(H(l.$$.fragment,a),H(t.$$.fragment,a),e=!0)},o(a){B(l.$$.fragment,a),B(t.$$.fragment,a),e=!1},d(a){le(l,a),a&&s(r),le(t,a)}}}function at(n){let l,r,t;return{c(){l=c("i"),r=c("center"),t=A("This is a mandatory field")},l(e){l=p(e,"I",{});var a=m(l);r=p(a,"CENTER",{});var i=m(r);t=C(i,"This is a mandatory field"),i.forEach(s),a.forEach(s)},m(e,a){_(e,l,a),f(l,r),f(r,t)},p:E,d(e){e&&s(l)}}}function Be(n){let l,r;return{c(){l=c("center"),r=c("input"),this.h()},l(t){l=p(t,"CENTER",{});var e=m(l);r=p(e,"INPUT",{style:!0,type:!0}),e.forEach(s),this.h()},h(){Ee(r,"border","2px solid red"),Ee(r,"border-radius","5px"),Ee(r,"text-align","center"),u(r,"type","text"),r.value=n[3],r.readOnly=!0},m(t,e){_(t,l,e),f(l,r)},p(t,e){e&8&&r.value!==t[3]&&(r.value=t[3])},d(t){t&&s(l)}}}function ot(n){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function st(n){let l,r,t={ctx:n,current:null,token:null,hasCatch:!1,pending:ot,then:et,catch:xe,value:14,blocks:[,,,]};return Me(Fe,t),{c(){l=fe(),t.block.c()},l(e){l=fe(),t.block.l(e)},m(e,a){_(e,l,a),t.block.m(e,t.anchor=a),t.mount=()=>l.parentNode,t.anchor=l,r=!0},p(e,[a]){n=e,Ve(t,n,a)},i(e){r||(H(t.block),r=!0)},o(e){for(let a=0;a<3;a+=1){const i=t.blocks[a];B(i)}r=!1},d(e){e&&s(l),t.block.d(e),t.token=null,t=null}}}function it(n,l,r){let t,e;Ce(n,Fe,T=>r(4,t=T));const a=Xe();Ce(n,a,T=>r(5,e=T));var i="",b="";let h=!1,S=!1,y;async function V(){try{r(2,S=!0),r(3,y=!1),h=!1,await He.collection("users").authWithPassword(i,b),ve("/dashboard")}catch(T){r(2,S=!1),console.log(He.authStore.isValid),r(3,y=T)}}function O(){ve("/signup")}We(async()=>{if(t)ve("/createorg");else return});function W(T){Ye.call(this,n,T)}function Y(){i=this.value,r(0,i)}function w(){b=this.value,r(1,b)}return[i,b,S,y,t,e,a,V,O,W,Y,w]}class nt extends Se{constructor(l){super(),De(this,l,it,st,Ge,{})}}function ut(n){let l,r,t,e,a;return r=new nt({}),{c(){l=c("body"),x(r.$$.fragment),t=g(),e=c("pre")},l(i){l=p(i,"BODY",{});var b=m(l);ee(r.$$.fragment,b),b.forEach(s),t=k(i),e=p(i,"PRE",{}),m(e).forEach(s)},m(i,b){_(i,l,b),te(r,l,null),_(i,t,b),_(i,e,b),a=!0},p:E,i(i){a||(H(r.$$.fragment,i),a=!0)},o(i){B(r.$$.fragment,i),a=!1},d(i){i&&s(l),le(r),i&&s(t),i&&s(e)}}}class _t extends Se{constructor(l){super(),De(this,l,null,ut,Ge,{})}}export{_t as default};
