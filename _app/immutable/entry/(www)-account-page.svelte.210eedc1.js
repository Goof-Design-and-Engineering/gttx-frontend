import{S as Rt,i as Ut,s as Vt,D as zt,e as rt,b as m,H as Bt,n as Y,h as i,L as wt,o as Ht,k as o,r as N,l as u,m as d,u as w,G as n,a as O,c as I,q as P,p as b,M as vt,v as At,N as Ct,F as mt,z as Gt,A as St,B as $t,g as Lt,d as Mt,C as qt}from"../chunks/index.d8729f0b.js";import{c as Yt,a as Wt,p as Pt}from"../chunks/pocketbase.f160ef4f.js";import{g as et}from"../chunks/navigation.9b07c094.js";function Ft(s){let t,e;return{c(){t=o("p"),e=N("Uh oh, something went wrong. Please try refreshing the page!")},l(l){t=u(l,"P",{});var r=d(t);e=w(r,"Uh oh, something went wrong. Please try refreshing the page!"),r.forEach(i)},m(l,r){m(l,t,r),n(t,e)},p:Y,d(l){l&&i(t)}}}function jt(s){let t,e=s[1]&&Dt(s);return{c(){e&&e.c(),t=rt()},l(l){e&&e.l(l),t=rt()},m(l,r){e&&e.m(l,r),m(l,t,r)},p(l,r){l[1]?e?e.p(l,r):(e=Dt(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&i(t)}}}function Dt(s){let t,e,l,r,f,c,_,v,y=s[1].username+"",p,g,E,D,H,W,F,j,z,B,C,lt,U,M,at,G,it,V,q,nt,J,K,Q,T,S,st,ot,$,ut,ct,A,ft,pt,bt;function gt(a,h){return a[1].avatar?Kt:Jt}let X=gt(s),R=X(s),k=s[2]&&Tt(s);return{c(){t=o("div"),e=o("div"),l=o("hgroup"),r=o("h1"),f=N("Your Account"),c=O(),_=o("h2"),v=N("Welcome back, "),p=N(y),g=O(),E=o("div"),R.c(),D=O(),H=o("hr"),W=O(),F=o("br"),j=O(),z=o("article"),B=o("div"),C=o("div"),lt=N(`Name
					`),U=o("input"),at=O(),G=o("div"),it=N(`Email
					`),V=o("input"),nt=O(),k&&k.c(),J=O(),K=o("br"),Q=O(),T=o("div"),S=o("button"),st=N("Edit Account"),ot=O(),$=o("button"),ut=N("Change Password"),ct=O(),A=o("button"),ft=N("Sign Out"),this.h()},l(a){t=u(a,"DIV",{class:!0});var h=d(t);e=u(h,"DIV",{});var yt=d(e);l=u(yt,"HGROUP",{});var Z=d(l);r=u(Z,"H1",{style:!0});var Et=d(r);f=w(Et,"Your Account"),Et.forEach(i),c=I(Z),_=u(Z,"H2",{});var dt=d(_);v=w(dt,"Welcome back, "),p=w(dt,y),dt.forEach(i),Z.forEach(i),yt.forEach(i),g=I(h),E=u(h,"DIV",{style:!0});var kt=d(E);R.l(kt),kt.forEach(i),h.forEach(i),D=I(a),H=u(a,"HR",{}),W=I(a),F=u(a,"BR",{}),j=I(a),z=u(a,"ARTICLE",{});var x=d(z);B=u(x,"DIV",{class:!0});var tt=d(B);C=u(tt,"DIV",{});var _t=d(C);lt=w(_t,`Name
					`),U=u(_t,"INPUT",{style:!0,type:!0}),_t.forEach(i),at=I(tt),G=u(tt,"DIV",{});var ht=d(G);it=w(ht,`Email
					`),V=u(ht,"INPUT",{style:!0,type:!0}),ht.forEach(i),tt.forEach(i),nt=I(x),k&&k.l(x),x.forEach(i),J=I(a),K=u(a,"BR",{}),Q=I(a),T=u(a,"DIV",{class:!0});var L=d(T);S=u(L,"BUTTON",{});var Ot=d(S);st=w(Ot,"Edit Account"),Ot.forEach(i),ot=I(L),$=u(L,"BUTTON",{});var It=d($);ut=w(It,"Change Password"),It.forEach(i),ct=I(L),A=u(L,"BUTTON",{class:!0});var Nt=d(A);ft=w(Nt,"Sign Out"),Nt.forEach(i),L.forEach(i),this.h()},h(){P(r,"font-size","40px"),P(E,"text-align","right"),b(t,"class","grid"),P(U,"border","1px solid var(--primary)"),P(U,"border-radius","1px"),b(U,"type","text"),U.value=M=s[1].username,U.readOnly=!0,P(V,"border","1px solid var(--primary)"),P(V,"border-radius","1px"),b(V,"type","text"),V.value=q=s[1].email,V.readOnly=!0,b(B,"class","grid"),b(A,"class","contrast outline"),b(T,"class","grid")},m(a,h){m(a,t,h),n(t,e),n(e,l),n(l,r),n(r,f),n(l,c),n(l,_),n(_,v),n(_,p),n(t,g),n(t,E),R.m(E,null),m(a,D,h),m(a,H,h),m(a,W,h),m(a,F,h),m(a,j,h),m(a,z,h),n(z,B),n(B,C),n(C,lt),n(C,U),n(B,at),n(B,G),n(G,it),n(G,V),n(z,nt),k&&k.m(z,null),m(a,J,h),m(a,K,h),m(a,Q,h),m(a,T,h),n(T,S),n(S,st),n(T,ot),n(T,$),n($,ut),n(T,ct),n(T,A),n(A,ft),pt||(bt=[vt(S,"click",s[4]),vt($,"click",s[5]),vt(A,"click",s[3])],pt=!0)},p(a,h){h&2&&y!==(y=a[1].username+"")&&At(p,y),X===(X=gt(a))&&R?R.p(a,h):(R.d(1),R=X(a),R&&(R.c(),R.m(E,null))),h&2&&M!==(M=a[1].username)&&U.value!==M&&(U.value=M),h&2&&q!==(q=a[1].email)&&V.value!==q&&(V.value=q),a[2]?k?k.p(a,h):(k=Tt(a),k.c(),k.m(z,null)):k&&(k.d(1),k=null)},d(a){a&&i(t),R.d(),a&&i(D),a&&i(H),a&&i(W),a&&i(F),a&&i(j),a&&i(z),k&&k.d(),a&&i(J),a&&i(K),a&&i(Q),a&&i(T),pt=!1,Ct(bt)}}}function Jt(s){let t,e,l;return{c(){t=o("img"),this.h()},l(r){t=u(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){mt(t.src,e="/defaultpfp.png")||b(t,"src",e),b(t,"width","100"),b(t,"height","100"),P(t,"border-radius","25px"),b(t,"alt",l=s[1].username)},m(r,f){m(r,t,f)},p(r,f){f&2&&l!==(l=r[1].username)&&b(t,"alt",l)},d(r){r&&i(t)}}}function Kt(s){let t,e,l;return{c(){t=o("img"),this.h()},l(r){t=u(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){mt(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+s[1].id+"/"+s[1].avatar+"?thumb=100x100")||b(t,"src",e),b(t,"width","100"),b(t,"height","100"),P(t,"border-radius","25px"),b(t,"alt",l=s[1].username)},m(r,f){m(r,t,f)},p(r,f){f&2&&!mt(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+r[1].id+"/"+r[1].avatar+"?thumb=100x100")&&b(t,"src",e),f&2&&l!==(l=r[1].username)&&b(t,"alt",l)},d(r){r&&i(t)}}}function Tt(s){let t,e,l,r,f,c,_,v,y;return{c(){t=o("div"),e=o("div"),l=N(`Organization
					`),r=o("input"),f=O(),c=o("div"),_=N(`Role
					`),v=o("input"),this.h()},l(p){t=u(p,"DIV",{class:!0});var g=d(t);e=u(g,"DIV",{});var E=d(e);l=w(E,`Organization
					`),r=u(E,"INPUT",{style:!0,type:!0}),E.forEach(i),f=I(g),c=u(g,"DIV",{});var D=d(c);_=w(D,`Role
					`),v=u(D,"INPUT",{style:!0,type:!0}),D.forEach(i),g.forEach(i),this.h()},h(){P(r,"border","1px solid var(--primary)"),P(r,"border-radius","1px"),b(r,"type","text"),r.value=s[0],r.readOnly=!0,P(v,"border","1px solid var(--primary)"),P(v,"border-radius","1px"),b(v,"type","text"),v.value=y=s[1].role,v.readOnly=!0,b(t,"class","grid")},m(p,g){m(p,t,g),n(t,e),n(e,l),n(e,r),n(t,f),n(t,c),n(c,_),n(c,v)},p(p,g){g&1&&r.value!==p[0]&&(r.value=p[0]),g&2&&y!==(y=p[1].role)&&v.value!==y&&(v.value=y)},d(p){p&&i(t)}}}function Qt(s){let t,e,l,r,f,c,_,v,y;return{c(){t=o("center"),e=o("br"),l=O(),r=o("hgroup"),f=o("h1"),c=N("Loading..."),_=O(),v=o("h2"),y=N("Give it a second..."),this.h()},l(p){t=u(p,"CENTER",{});var g=d(t);e=u(g,"BR",{}),l=I(g),r=u(g,"HGROUP",{});var E=d(r);f=u(E,"H1",{"aria-busy":!0});var D=d(f);c=w(D,"Loading..."),D.forEach(i),_=I(E),v=u(E,"H2",{});var H=d(v);y=w(H,"Give it a second..."),H.forEach(i),E.forEach(i),g.forEach(i),this.h()},h(){b(f,"aria-busy","true")},m(p,g){m(p,t,g),n(t,e),n(t,l),n(t,r),n(r,f),n(f,c),n(r,_),n(r,v),n(v,y)},p:Y,d(p){p&&i(t)}}}function Xt(s){let t,e={ctx:s,current:null,token:null,hasCatch:!0,pending:Qt,then:jt,catch:Ft,error:8};return zt(s[6](),e),{c(){t=rt(),e.block.c()},l(l){t=rt(),e.block.l(l)},m(l,r){m(l,t,r),e.block.m(l,e.anchor=r),e.mount=()=>t.parentNode,e.anchor=t},p(l,[r]){s=l,Bt(e,s,r)},i:Y,o:Y,d(l){l&&i(t),e.block.d(l),e.token=null,e=null}}}function Zt(s,t,e){let l,r;wt(s,Yt,p=>e(1,l=p)),wt(s,Wt,p=>e(2,r=p));let f="None";async function c(){Pt.authStore.clear(),et("/")}async function _(){et("/account/edit")}async function v(){et("/account/password")}async function y(){if(r){const p=await Pt.collection("organization").getOne(l==null?void 0:l.org);e(0,f=p.name)}}return Ht(async()=>{l||et("/login")}),[f,l,r,c,_,v,y]}class xt extends Rt{constructor(t){super(),Ut(this,t,Zt,Xt,Vt,{})}}function te(s){let t,e,l,r,f;return e=new xt({}),{c(){t=o("body"),Gt(e.$$.fragment),l=O(),r=o("pre")},l(c){t=u(c,"BODY",{});var _=d(t);St(e.$$.fragment,_),_.forEach(i),l=I(c),r=u(c,"PRE",{}),d(r).forEach(i)},m(c,_){m(c,t,_),$t(e,t,null),m(c,l,_),m(c,r,_),f=!0},p:Y,i(c){f||(Lt(e.$$.fragment,c),f=!0)},o(c){Mt(e.$$.fragment,c),f=!1},d(c){c&&i(t),qt(e),c&&i(l),c&&i(r)}}}class ae extends Rt{constructor(t){super(),Ut(this,t,null,te,Vt,{})}}export{ae as default};
