import{S as Be,i as Ue,s as Fe,D as De,a as E,e as ue,c as v,b as h,H as Ge,g as C,d as B,h as i,L as Ie,o as We,k as p,r as L,l as d,m as _,u as N,G as u,v as Me,Y as Ve,n as w,w as Ye,f as ze,z as Z,A as x,p as c,O as ne,B as ee,M as X,a4 as be,a5 as je,C as te,N as Je,q as Ke}from"../chunks/index.b95161bf.js";import{c as Se,p as Re}from"../chunks/pocketbase.c09fd52b.js";import{H as Qe,a as Ee}from"../chunks/HintGroup.a676afc4.js";import{u as Xe,v as Ae,r as Ce,e as Ze}from"../chunks/validators.c220a831.js";import{g as $e}from"../chunks/navigation.7a5a56af.js";function He(n){let t,o;return{c(){t=p("p"),o=L(n[3])},l(l){t=d(l,"P",{});var e=_(t);o=N(e,n[3]),e.forEach(i)},m(l,e){h(l,t,e),u(t,o)},p(l,e){e&8&&Me(o,l[3])},d(l){l&&i(t)}}}function xe(n){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function et(n){let t,o,l=!n[4]&&Oe(n);return{c(){l&&l.c(),t=ue()},l(e){l&&l.l(e),t=ue()},m(e,r){l&&l.m(e,r),h(e,t,r),o=!0},p(e,r){e[4]?l&&(Ye(),B(l,1,1,()=>{l=null}),ze()):l?(l.p(e,r),r&16&&C(l,1)):(l=Oe(e),l.c(),C(l,1),l.m(t.parentNode,t))},i(e){o||(C(l),o=!0)},o(e){B(l),o=!1},d(e){l&&l.d(e),e&&i(t)}}}function Oe(n){let t,o,l,e,r,a,f,b,F,P,W,H,M,V,k,T,O,fe,q,ce,le,re,S,D,Y,pe,oe,y,I,z,de,R,j,me,A,J,ae,se,ie,U,_e,K,he,ve;P=new Qe({props:{for:"email",$$slots:{default:[rt]},$$scope:{ctx:n}}}),O=new Ee({props:{for:"password",on:"required",$$slots:{default:[ot]},$$scope:{ctx:n}}});let g=n[2]&&qe();return{c(){t=p("h1"),o=L("Login"),l=E(),e=p("form"),r=p("label"),a=L("Email Address"),f=E(),b=p("input"),F=E(),Z(P.$$.fragment),W=E(),H=p("label"),M=L("Password"),V=E(),k=p("input"),T=E(),Z(O.$$.fragment),fe=E(),q=p("button"),ce=L("Login"),re=E(),g&&g.c(),S=E(),D=p("center"),Y=p("p"),pe=L("Or login with:"),oe=E(),y=p("div"),I=p("a"),z=p("i"),de=E(),R=p("a"),j=p("i"),me=E(),A=p("a"),J=p("i"),ae=E(),se=p("hr"),ie=E(),U=p("button"),_e=L("Signup"),this.h()},l(s){t=d(s,"H1",{class:!0});var m=_(t);o=N(m,"Login"),m.forEach(i),l=v(s),e=d(s,"FORM",{});var $=_(e);r=d($,"LABEL",{for:!0});var Q=_(r);a=N(Q,"Email Address"),Q.forEach(i),f=v($),b=d($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),F=v($),x(P.$$.fragment,$),W=v($),H=d($,"LABEL",{for:!0});var we=_(H);M=N(we,"Password"),we.forEach(i),V=v($),k=d($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),T=v($),x(O.$$.fragment,$),fe=v($),q=d($,"BUTTON",{});var ge=_(q);ce=N(ge,"Login"),ge.forEach(i),$.forEach(i),re=v(s),g&&g.l(s),S=v(s),D=d(s,"CENTER",{});var ke=_(D);Y=d(ke,"P",{});var Te=_(Y);pe=N(Te,"Or login with:"),Te.forEach(i),ke.forEach(i),oe=v(s),y=d(s,"DIV",{class:!0});var G=_(y);I=d(G,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var ye=_(I);z=d(ye,"I",{class:!0}),_(z).forEach(i),ye.forEach(i),de=v(G),R=d(G,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var Le=_(R);j=d(Le,"I",{class:!0}),_(j).forEach(i),Le.forEach(i),me=v(G),A=d(G,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var Ne=_(A);J=d(Ne,"I",{class:!0}),_(J).forEach(i),Ne.forEach(i),G.forEach(i),ae=v(s),se=d(s,"HR",{}),ie=v(s),U=d(s,"BUTTON",{});var Pe=_(U);_e=N(Pe,"Signup"),Pe.forEach(i),this.h()},h(){c(t,"class","page-name-header"),c(r,"for","email"),c(b,"type","email"),c(b,"name","email"),c(b,"id","email"),c(b,"placeholder","goof@goofle.com"),c(H,"for","password"),c(k,"type","password"),c(k,"name","password"),c(k,"id","password"),c(k,"placeholder","Password"),q.disabled=le=!n[5].valid,c(z,"class","bi bi-google"),c(I,"href","https://www.google.com"),c(I,"role","button"),c(I,"class","oauth-button secondary"),c(I,"id","google-oauth"),c(I,"data-tooltip","Login with Google"),c(j,"class","bi bi-discord"),c(R,"href",n[7]),c(R,"role","button"),c(R,"class","oauth-button secondary"),c(R,"id","discord-oauth"),c(R,"data-tooltip","Login with Discord"),c(J,"class","bi bi-github"),c(A,"href","https://www.github.com"),c(A,"role","button"),c(A,"class","oauth-button secondary"),c(A,"id","github-oauth"),c(A,"data-tooltip","Login with GitHub"),c(y,"class","grid")},m(s,m){h(s,t,m),u(t,o),h(s,l,m),h(s,e,m),u(e,r),u(r,a),u(e,f),u(e,b),ne(b,n[0]),u(e,F),ee(P,e,null),u(e,W),u(e,H),u(H,M),u(e,V),u(e,k),ne(k,n[1]),u(e,T),ee(O,e,null),u(e,fe),u(e,q),u(q,ce),h(s,re,m),g&&g.m(s,m),h(s,S,m),h(s,D,m),u(D,Y),u(Y,pe),h(s,oe,m),h(s,y,m),u(y,I),u(I,z),u(y,de),u(y,R),u(R,j),u(y,me),u(y,A),u(A,J),h(s,ae,m),h(s,se,m),h(s,ie,m),h(s,U,m),u(U,_e),K=!0,he||(ve=[X(b,"input",n[11]),be(Ae.call(null,b,[Ce,Ze])),X(k,"input",n[12]),be(Ae.call(null,k,[Ce])),X(q,"click",n[8]),be(n[6].call(null,e)),X(e,"submit",je(n[10])),X(U,"click",n[9])],he=!0)},p(s,m){m&1&&b.value!==s[0]&&ne(b,s[0]);const $={};m&16384&&($.$$scope={dirty:m,ctx:s}),P.$set($),m&2&&k.value!==s[1]&&ne(k,s[1]);const Q={};m&16384&&(Q.$$scope={dirty:m,ctx:s}),O.$set(Q),(!K||m&32&&le!==(le=!s[5].valid))&&(q.disabled=le),s[2]?g||(g=qe(),g.c(),g.m(S.parentNode,S)):g&&(g.d(1),g=null)},i(s){K||(C(P.$$.fragment,s),C(O.$$.fragment,s),K=!0)},o(s){B(P.$$.fragment,s),B(O.$$.fragment,s),K=!1},d(s){s&&i(t),s&&i(l),s&&i(e),te(P),te(O),s&&i(re),g&&g.d(s),s&&i(S),s&&i(D),s&&i(oe),s&&i(y),s&&i(ae),s&&i(se),s&&i(ie),s&&i(U),he=!1,Je(ve)}}}function tt(n){let t;return{c(){t=L("This is a mandatory field")},l(o){t=N(o,"This is a mandatory field")},m(o,l){h(o,t,l)},d(o){o&&i(t)}}}function lt(n){let t,o,l;return{c(){t=p("i"),o=p("center"),l=L("Email is not valid")},l(e){t=d(e,"I",{});var r=_(t);o=d(r,"CENTER",{});var a=_(o);l=N(a,"Email is not valid"),a.forEach(i),r.forEach(i)},m(e,r){h(e,t,r),u(t,o),u(o,l)},p:w,d(e){e&&i(t)}}}function rt(n){let t,o,l,e;return t=new Ee({props:{on:"required",$$slots:{default:[tt]},$$scope:{ctx:n}}}),l=new Ee({props:{on:"email",hideWhenRequired:!0,class:"login-hint",$$slots:{default:[lt]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment),o=E(),Z(l.$$.fragment)},l(r){x(t.$$.fragment,r),o=v(r),x(l.$$.fragment,r)},m(r,a){ee(t,r,a),h(r,o,a),ee(l,r,a),e=!0},p(r,a){const f={};a&16384&&(f.$$scope={dirty:a,ctx:r}),t.$set(f);const b={};a&16384&&(b.$$scope={dirty:a,ctx:r}),l.$set(b)},i(r){e||(C(t.$$.fragment,r),C(l.$$.fragment,r),e=!0)},o(r){B(t.$$.fragment,r),B(l.$$.fragment,r),e=!1},d(r){te(t,r),r&&i(o),te(l,r)}}}function ot(n){let t,o,l;return{c(){t=p("i"),o=p("center"),l=L("This is a mandatory field")},l(e){t=d(e,"I",{});var r=_(t);o=d(r,"CENTER",{});var a=_(o);l=N(a,"This is a mandatory field"),a.forEach(i),r.forEach(i)},m(e,r){h(e,t,r),u(t,o),u(o,l)},p:w,d(e){e&&i(t)}}}function qe(n){let t,o,l;return{c(){t=p("center"),o=p("p"),l=L("Wrong password, idiot."),this.h()},l(e){t=d(e,"CENTER",{});var r=_(t);o=d(r,"P",{style:!0});var a=_(o);l=N(a,"Wrong password, idiot."),a.forEach(i),r.forEach(i),this.h()},h(){Ke(o,"color","#FF0000")},m(e,r){h(e,t,r),u(t,o),u(o,l)},d(e){e&&i(t)}}}function at(n){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function st(n){let t,o,l,e=n[3]&&He(n),r={ctx:n,current:null,token:null,hasCatch:!1,pending:at,then:et,catch:xe,value:13,blocks:[,,,]};return De(Se,r),{c(){e&&e.c(),t=E(),o=ue(),r.block.c()},l(a){e&&e.l(a),t=v(a),o=ue(),r.block.l(a)},m(a,f){e&&e.m(a,f),h(a,t,f),h(a,o,f),r.block.m(a,r.anchor=f),r.mount=()=>o.parentNode,r.anchor=o,l=!0},p(a,[f]){n=a,n[3]?e?e.p(n,f):(e=He(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null),Ge(r,n,f)},i(a){l||(C(r.block),l=!0)},o(a){for(let f=0;f<3;f+=1){const b=r.blocks[f];B(b)}l=!1},d(a){e&&e.d(a),a&&i(t),a&&i(o),r.block.d(a),r.token=null,r=null}}}function it(n,t,o){let l,e;Ie(n,Se,T=>o(4,l=T));const r=Xe();Ie(n,r,T=>o(5,e=T));var a="",f="";let b=!1,F,P;async function W(){try{o(2,b=!1),await Re.collection("users").authWithPassword(a,f),$e("/dashboard")}catch(T){console.log(Re.authStore.isValid),o(3,F=T)}}function H(){$e("/signup")}We(async()=>{if(l)$e("/createorg");else return});function M(T){Ve.call(this,n,T)}function V(){a=this.value,o(0,a)}function k(){f=this.value,o(1,f)}return[a,f,b,F,l,e,r,P,W,H,M,V,k]}class nt extends Be{constructor(t){super(),Ue(this,t,it,st,Fe,{})}}function ut(n){let t,o,l,e,r;return o=new nt({}),{c(){t=p("body"),Z(o.$$.fragment),l=E(),e=p("pre")},l(a){t=d(a,"BODY",{});var f=_(t);x(o.$$.fragment,f),f.forEach(i),l=v(a),e=d(a,"PRE",{}),_(e).forEach(i)},m(a,f){h(a,t,f),ee(o,t,null),h(a,l,f),h(a,e,f),r=!0},p:w,i(a){r||(C(o.$$.fragment,a),r=!0)},o(a){B(o.$$.fragment,a),r=!1},d(a){a&&i(t),te(o),a&&i(l),a&&i(e)}}}class _t extends Be{constructor(t){super(),Ue(this,t,null,ut,Fe,{})}}export{_t as default};
