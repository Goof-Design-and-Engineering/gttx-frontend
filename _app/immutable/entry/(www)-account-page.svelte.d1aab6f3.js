import{S as Ct,i as Ht,s as zt,D as Mt,e as rt,b as _,H as qt,n as k,h as r,L as Wt,o as Ft,k as n,r as g,a as h,l as o,m as d,u as I,c as b,q as ut,p,G as u,M as $t,v as Lt,N as Yt,F as Ot,z as jt,A as Jt,B as Kt,g as Qt,d as Xt,C as Zt}from"../chunks/index.b95161bf.js";import{c as Gt,p as xt}from"../chunks/pocketbase.c09fd52b.js";import{g as it}from"../chunks/navigation.7a5a56af.js";function te(s){return{c:k,l:k,m:k,p:k,d:k}}function ee(s){let t,e=s[0]&&At(s);return{c(){e&&e.c(),t=rt()},l(a){e&&e.l(a),t=rt()},m(a,i){e&&e.m(a,i),_(a,t,i)},p(a,i){a[0]?e?e.p(a,i):(e=At(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){e&&e.d(a),a&&r(t)}}}function At(s){let t,e,a,i,v,f,m,st,z=s[0].username+"",F,nt,U,L,Y,j,J,K,D,P,ot,$,G,ct,B,ft,O,M,Q,N,R,_t,w,q,pt,S,vt,T,W,X,Z,x,y,A,dt,mt,C,ht,bt,V,kt,yt,wt;function Tt(l,c){return l[0].avatar?ae:le}let tt=Tt(s),E=tt(s);return{c(){t=n("div"),e=n("div"),a=n("hgroup"),i=n("h1"),v=g("Account Settings"),f=h(),m=n("h2"),st=g("Welcome back, "),F=g(z),nt=h(),U=n("div"),E.c(),L=h(),Y=n("hr"),j=h(),J=n("br"),K=h(),D=n("div"),P=n("div"),ot=g(`Name
				`),$=n("input"),ct=h(),B=n("div"),ft=g(`Email
				`),O=n("input"),Q=h(),N=n("div"),R=n("div"),_t=g(`Organization
				`),w=n("input"),pt=h(),S=n("div"),vt=g(`Role
				`),T=n("input"),X=h(),Z=n("br"),x=h(),y=n("div"),A=n("button"),dt=g("Edit Account"),mt=h(),C=n("button"),ht=g("Change Password"),bt=h(),V=n("button"),kt=g("Sign Out"),this.h()},l(l){t=o(l,"DIV",{class:!0});var c=d(t);e=o(c,"DIV",{});var Ut=d(e);a=o(Ut,"HGROUP",{});var et=d(a);i=o(et,"H1",{style:!0});var Vt=d(i);v=I(Vt,"Account Settings"),Vt.forEach(r),f=b(et),m=o(et,"H2",{});var Et=d(m);st=I(Et,"Welcome back, "),F=I(Et,z),Et.forEach(r),et.forEach(r),Ut.forEach(r),nt=b(c),U=o(c,"DIV",{style:!0});var Pt=d(U);E.l(Pt),Pt.forEach(r),c.forEach(r),L=b(l),Y=o(l,"HR",{}),j=b(l),J=o(l,"BR",{}),K=b(l),D=o(l,"DIV",{class:!0});var lt=d(D);P=o(lt,"DIV",{});var gt=d(P);ot=I(gt,`Name
				`),$=o(gt,"INPUT",{type:!0}),gt.forEach(r),ct=b(lt),B=o(lt,"DIV",{});var It=d(B);ft=I(It,`Email
				`),O=o(It,"INPUT",{type:!0}),It.forEach(r),lt.forEach(r),Q=b(l),N=o(l,"DIV",{class:!0});var at=d(N);R=o(at,"DIV",{});var Dt=d(R);_t=I(Dt,`Organization
				`),w=o(Dt,"INPUT",{type:!0}),Dt.forEach(r),pt=b(at),S=o(at,"DIV",{});var Nt=d(S);vt=I(Nt,`Role
				`),T=o(Nt,"INPUT",{type:!0}),Nt.forEach(r),at.forEach(r),X=b(l),Z=o(l,"BR",{}),x=b(l),y=o(l,"DIV",{class:!0});var H=d(y);A=o(H,"BUTTON",{});var Bt=d(A);dt=I(Bt,"Edit Account"),Bt.forEach(r),mt=b(H),C=o(H,"BUTTON",{});var Rt=d(C);ht=I(Rt,"Change Password"),Rt.forEach(r),bt=b(H),V=o(H,"BUTTON",{class:!0});var St=d(V);kt=I(St,"Sign Out"),St.forEach(r),H.forEach(r),this.h()},h(){ut(i,"font-size","40px"),ut(U,"text-align","right"),p(t,"class","grid"),p($,"type","text"),$.value=G=s[0].username,$.readOnly=!0,p(O,"type","text"),O.value=M=s[0].email,O.readOnly=!0,p(D,"class","grid"),p(w,"type","text"),w.value=q=s[0].org,w.disabled=!0,p(T,"type","text"),T.value=W=s[0].role,T.disabled=!0,p(N,"class","grid"),p(V,"class","secondary outline"),p(y,"class","grid")},m(l,c){_(l,t,c),u(t,e),u(e,a),u(a,i),u(i,v),u(a,f),u(a,m),u(m,st),u(m,F),u(t,nt),u(t,U),E.m(U,null),_(l,L,c),_(l,Y,c),_(l,j,c),_(l,J,c),_(l,K,c),_(l,D,c),u(D,P),u(P,ot),u(P,$),u(D,ct),u(D,B),u(B,ft),u(B,O),_(l,Q,c),_(l,N,c),u(N,R),u(R,_t),u(R,w),u(N,pt),u(N,S),u(S,vt),u(S,T),_(l,X,c),_(l,Z,c),_(l,x,c),_(l,y,c),u(y,A),u(A,dt),u(y,mt),u(y,C),u(C,ht),u(y,bt),u(y,V),u(V,kt),yt||(wt=[$t(A,"click",s[2]),$t(C,"click",s[3]),$t(V,"click",s[1])],yt=!0)},p(l,c){c&1&&z!==(z=l[0].username+"")&&Lt(F,z),tt===(tt=Tt(l))&&E?E.p(l,c):(E.d(1),E=tt(l),E&&(E.c(),E.m(U,null))),c&1&&G!==(G=l[0].username)&&$.value!==G&&($.value=G),c&1&&M!==(M=l[0].email)&&O.value!==M&&(O.value=M),c&1&&q!==(q=l[0].org)&&w.value!==q&&(w.value=q),c&1&&W!==(W=l[0].role)&&T.value!==W&&(T.value=W)},d(l){l&&r(t),E.d(),l&&r(L),l&&r(Y),l&&r(j),l&&r(J),l&&r(K),l&&r(D),l&&r(Q),l&&r(N),l&&r(X),l&&r(Z),l&&r(x),l&&r(y),yt=!1,Yt(wt)}}}function le(s){let t,e,a;return{c(){t=n("img"),this.h()},l(i){t=o(i,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){Ot(t.src,e="/defaultpfp.png")||p(t,"src",e),p(t,"width","100"),p(t,"height","100"),ut(t,"border-radius","25px"),p(t,"alt",a=s[0].username)},m(i,v){_(i,t,v)},p(i,v){v&1&&a!==(a=i[0].username)&&p(t,"alt",a)},d(i){i&&r(t)}}}function ae(s){let t,e,a;return{c(){t=n("img"),this.h()},l(i){t=o(i,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){Ot(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+s[0].id+"/"+s[0].avatar+"?thumb=100x100")||p(t,"src",e),p(t,"width","100"),p(t,"height","100"),ut(t,"border-radius","25px"),p(t,"alt",a=s[0].username)},m(i,v){_(i,t,v)},p(i,v){v&1&&!Ot(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+i[0].id+"/"+i[0].avatar+"?thumb=100x100")&&p(t,"src",e),v&1&&a!==(a=i[0].username)&&p(t,"alt",a)},d(i){i&&r(t)}}}function ie(s){return{c:k,l:k,m:k,p:k,d:k}}function re(s){let t,e={ctx:s,current:null,token:null,hasCatch:!1,pending:ie,then:ee,catch:te,value:5};return Mt(Gt,e),{c(){t=rt(),e.block.c()},l(a){t=rt(),e.block.l(a)},m(a,i){_(a,t,i),e.block.m(a,e.anchor=i),e.mount=()=>t.parentNode,e.anchor=t},p(a,[i]){s=a,qt(e,s,i)},i:k,o:k,d(a){a&&r(t),e.block.d(a),e.token=null,e=null}}}function ue(s,t,e){let a;Wt(s,Gt,m=>e(0,a=m));async function i(){xt.authStore.clear(),it("/")}async function v(){it("/account/edit")}async function f(){it("/account/password")}return Ft(()=>{a||it("/login")}),[a,i,v,f]}class se extends Ct{constructor(t){super(),Ht(this,t,ue,re,zt,{})}}function ne(s){let t,e,a,i,v;return e=new se({}),{c(){t=n("body"),jt(e.$$.fragment),a=h(),i=n("pre")},l(f){t=o(f,"BODY",{});var m=d(t);Jt(e.$$.fragment,m),m.forEach(r),a=b(f),i=o(f,"PRE",{}),d(i).forEach(r)},m(f,m){_(f,t,m),Kt(e,t,null),_(f,a,m),_(f,i,m),v=!0},p:k,i(f){v||(Qt(e.$$.fragment,f),v=!0)},o(f){Xt(e.$$.fragment,f),v=!1},d(f){f&&r(t),Zt(e),f&&r(a),f&&r(i)}}}class _e extends Ct{constructor(t){super(),Ht(this,t,null,ne,zt,{})}}export{_e as default};
