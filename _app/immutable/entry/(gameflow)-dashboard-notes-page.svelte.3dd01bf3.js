import{S as Z,i as x,s as H,D as C,a as S,k,r as E,e as I,c as y,l as g,m as v,u as w,h as f,b as h,G as b,H as D,n as i,L as ee,o as te,p as q,O as W,M as X,N as le,v as ne,P as oe,x as re,Q as ce,z as M,A as V,B,R as ae,g as L,d as T,C as F,w as se,f as ue}from"../chunks/index.b95161bf.js";import{c as ie,p as A,a as fe}from"../chunks/pocketbase.c09fd52b.js";import{S as _e,N as me}from"../chunks/Switch.d645ef77.js";function J(r,e,l){const t=r.slice();return t[1]=e[l],t}function pe(r){let e,l,t=r[13].message+"",n;return{c(){e=k("p"),l=E("Error: "),n=E(t)},l(u){e=g(u,"P",{});var a=v(e);l=w(a,"Error: "),n=w(a,t),a.forEach(f)},m(u,a){h(u,e,a),b(e,l),b(e,n)},p:i,d(u){u&&f(e)}}}function he(r){let e,l,t,n,u,a,m=r[0],s,c,o,_,O,p,R,U,$={ctx:r,current:null,token:null,hasCatch:!1,pending:ke,then:de,catch:be,value:14};C(r[3](),$);let N=K(r);return{c(){e=k("form"),l=k("h2"),t=E("Request for comment"),n=S(),u=k("p"),$.block.c(),a=S(),N.c(),s=S(),c=k("label"),o=k("textarea"),_=S(),O=k("button"),p=E("Submit"),this.h()},l(P){e=g(P,"FORM",{});var d=v(e);l=g(d,"H2",{});var j=v(l);t=w(j,"Request for comment"),j.forEach(f),n=y(d),u=g(d,"P",{});var G=v(u);$.block.l(G),G.forEach(f),a=y(d),N.l(d),s=y(d),c=g(d,"LABEL",{for:!0});var Q=v(c);o=g(Q,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0}),v(o).forEach(f),Q.forEach(f),_=y(d),O=g(d,"BUTTON",{type:!0});var z=v(O);p=w(z,"Submit"),z.forEach(f),d.forEach(f),this.h()},h(){q(o,"name","notes"),q(o,"id","notes"),q(o,"cols","50"),q(o,"rows","4"),q(c,"for","notes"),q(O,"type","submit")},m(P,d){h(P,e,d),b(e,l),b(l,t),b(e,n),b(e,u),$.block.m(u,$.anchor=null),$.mount=()=>u,$.anchor=null,b(e,a),N.m(e,null),b(e,s),b(e,c),b(c,o),W(o,r[1]),b(e,_),b(e,O),b(O,p),R||(U=[X(o,"input",r[7]),X(O,"click",r[4])],R=!0)},p(P,d){r=P,D($,r,d),d&1&&H(m,m=r[0])?(N.d(1),N=K(r),N.c(),N.m(e,s)):N.p(r,d),d&2&&W(o,r[1])},d(P){P&&f(e),$.block.d(),$.token=null,$=null,N.d(P),R=!1,le(U)}}}function be(r){return{c:i,l:i,m:i,p:i,d:i}}function de(r){let e=r[14]+"",l;return{c(){l=E(e)},l(t){l=w(t,e)},m(t,n){h(t,l,n)},p:i,d(t){t&&f(l)}}}function ke(r){return{c:i,l:i,m:i,p:i,d:i}}function K(r){let e;return{c(){e=E(r[0])},l(l){e=w(l,r[0])},m(l,t){h(l,e,t)},p(l,t){t&1&&ne(e,l[0])},d(l){l&&f(e)}}}function ge(r){let e,l;return{c(){e=k("p"),l=E("Loading...")},l(t){e=g(t,"P",{});var n=v(e);l=w(n,"Loading..."),n.forEach(f)},m(t,n){h(t,e,n),b(e,l)},p:i,d(t){t&&f(e)}}}function ve(r){let e=r[13]+"",l;return{c(){l=E(e)},l(t){l=w(t,e)},m(t,n){h(t,l,n)},p:i,d(t){t&&f(l)}}}function $e(r){let e,l=r[10],t=[];for(let n=0;n<l.length;n+=1)t[n]=Y(J(r,l,n));return{c(){e=k("li");for(let n=0;n<t.length;n+=1)t[n].c()},l(n){e=g(n,"LI",{});var u=v(e);for(let a=0;a<t.length;a+=1)t[a].l(u);u.forEach(f)},m(n,u){h(n,e,u);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(n,u){if(u&32){l=n[10];let a;for(a=0;a<l.length;a+=1){const m=J(n,l,a);t[a]?t[a].p(m,u):(t[a]=Y(m),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(n){n&&f(e),oe(t,n)}}}function Y(r){let e,l=r[1].question+"",t,n,u,a=r[1].content+"",m,s;return{c(){e=k("h3"),t=E(l),n=S(),u=k("p"),m=E(a),s=S()},l(c){e=g(c,"H3",{});var o=v(e);t=w(o,l),o.forEach(f),n=y(c),u=g(c,"P",{});var _=v(u);m=w(_,a),s=y(_),_.forEach(f)},m(c,o){h(c,e,o),b(e,t),h(c,n,o),h(c,u,o),b(u,m),b(u,s)},p:i,d(c){c&&f(e),c&&f(n),c&&f(u)}}}function Ee(r){return{c:i,l:i,m:i,p:i,d:i}}function we(r){let e,l,t,n,u,a,m,s={ctx:r,current:null,token:null,hasCatch:!0,pending:ge,then:he,catch:pe,error:13};C(r[2](),s);let c={ctx:r,current:null,token:null,hasCatch:!0,pending:Ee,then:$e,catch:ve,value:10,error:13};return C(r[5](),c),{c(){s.block.c(),e=S(),l=k("hr"),t=S(),n=k("h2"),u=E("PREVIOUS NOTES"),a=S(),m=I(),c.block.c()},l(o){s.block.l(o),e=y(o),l=g(o,"HR",{}),t=y(o),n=g(o,"H2",{});var _=v(n);u=w(_,"PREVIOUS NOTES"),_.forEach(f),a=y(o),m=I(),c.block.l(o)},m(o,_){s.block.m(o,s.anchor=_),s.mount=()=>e.parentNode,s.anchor=e,h(o,e,_),h(o,l,_),h(o,t,_),h(o,n,_),b(n,u),h(o,a,_),h(o,m,_),c.block.m(o,c.anchor=_),c.mount=()=>m.parentNode,c.anchor=m},p(o,[_]){r=o,D(s,r,_),D(c,r,_)},i,o:i,d(o){s.block.d(o),s.token=null,s=null,o&&f(e),o&&f(l),o&&f(t),o&&f(n),o&&f(a),o&&f(m),c.block.d(o),c.token=null,c=null}}}function Se(r,e,l){let t;ee(r,ie,p=>l(9,t=p));let n="",u,{roomID:a="yir2twyh4ws5697"}=e,m="";te(()=>{t||goto("/login"),t.org||goto("/createorg")});async function s(){u=(await A.collection("room").getOne(a,{expand:"scenarios"})).expand.scenarios.contents}async function c(){u==null&&s();const p=await A.collection("room").getOne(a);return u.modules[p.module].questions[p.question]}async function o(){const p=await A.collection("room").getOne(a);console.log(t.id),console.log(t.org);const R={user:t.id,org:t.org,question:u.modules[p.module].questions[p.question],content:n,room:a};await A.collection("notes").create(R)!=Object?l(0,m="PREVIOUS MESSAGE WAS SENT PROPER"):console.log(p)}async function _(){let p=`(org='${t.org}' && user='${t.id}')`;console.log(p);const R=await A.collection("notes").getList(1,50,{filter:p});return console.log(R),R.items}function O(){n=this.value,l(1,n)}return r.$$set=p=>{"roomID"in p&&l(6,a=p.roomID)},[m,n,s,c,o,_,a,O]}class ye extends Z{constructor(e){super(),x(this,e,Se,we,H,{roomID:6})}}function Oe(r){return{c:i,l:i,m:i,p:i,i,o:i,d:i}}function Ne(r){let e,l,t,n;const u=[Pe,Re],a=[];function m(s,c){return s[0]=="off"?0:1}return e=m(r),l=a[e]=u[e](r),{c(){l.c(),t=I()},l(s){l.l(s),t=I()},m(s,c){a[e].m(s,c),h(s,t,c),n=!0},p(s,c){let o=e;e=m(s),e!==o&&(se(),T(a[o],1,1,()=>{a[o]=null}),ue(),l=a[e],l||(l=a[e]=u[e](s),l.c()),L(l,1),l.m(t.parentNode,t))},i(s){n||(L(l),n=!0)},o(s){T(l),n=!1},d(s){a[e].d(s),s&&f(t)}}}function Re(r){let e,l;return e=new me({}),{c(){M(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(L(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Pe(r){let e,l;return e=new ye({}),{c(){M(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},i(t){l||(L(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function qe(r){return{c:i,l:i,m:i,p:i,i,o:i,d:i}}function Ie(r){let e,l,t,n,u;function a(c){r[1](c)}let m={label:"Facilitator toggle",design:"slider",style:"float"};r[0]!==void 0&&(m.value=r[0]),e=new _e({props:m}),re.push(()=>ce(e,"value",a));let s={ctx:r,current:null,token:null,hasCatch:!1,pending:qe,then:Ne,catch:Oe,value:2,blocks:[,,,]};return C(fe,s),{c(){M(e.$$.fragment),t=S(),n=I(),s.block.c()},l(c){V(e.$$.fragment,c),t=y(c),n=I(),s.block.l(c)},m(c,o){B(e,c,o),h(c,t,o),h(c,n,o),s.block.m(c,s.anchor=o),s.mount=()=>n.parentNode,s.anchor=n,u=!0},p(c,[o]){r=c;const _={};!l&&o&1&&(l=!0,_.value=r[0],ae(()=>l=!1)),e.$set(_),D(s,r,o)},i(c){u||(L(e.$$.fragment,c),L(s.block),u=!0)},o(c){T(e.$$.fragment,c);for(let o=0;o<3;o+=1){const _=s.blocks[o];T(_)}u=!1},d(c){F(e,c),c&&f(t),c&&f(n),s.block.d(c),s.token=null,s=null}}}function Le(r,e,l){let t;function n(u){t=u,l(0,t)}return[t,n]}class De extends Z{constructor(e){super(),x(this,e,Le,Ie,H,{})}}export{De as default};
