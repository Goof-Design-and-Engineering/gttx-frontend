import{S as nt,i as it,s as ut,a as $,k as f,r as w,z,c as _,l as c,m as d,u as y,h as n,A as j,p as o,b as I,G as r,O as re,B as J,M as me,a4 as le,a5 as ct,g as K,d as Q,C as X,N as dt,L as rt,o as pt,v as mt,Y as ht,n as ft}from"../chunks/index.b95161bf.js";import{c as $t,p as lt}from"../chunks/pocketbase.c09fd52b.js";import{H as st,a as ye}from"../chunks/HintGroup.a676afc4.js";import{v as he,r as $e,e as _t,u as gt}from"../chunks/validators.c220a831.js";import{g as Me}from"../chunks/navigation.7a5a56af.js";function ot(u){let e,t;return{c(){e=f("p"),t=w(u[3])},l(l){e=c(l,"P",{});var i=d(e);t=y(i,u[3]),i.forEach(n)},m(l,i){I(l,e,i),r(e,t)},p(l,i){i&8&&mt(t,l[3])},d(l){l&&n(e)}}}function vt(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function bt(u){let e,t;return e=new ye({props:{on:"required",$$slots:{default:[vt]},$$scope:{ctx:u}}}),{c(){z(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,i){J(e,l,i),t=!0},p(l,i){const a={};i&4096&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){Q(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Et(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function wt(u){let e,t,l;return{c(){e=f("i"),t=f("center"),l=w("Email is not valid")},l(i){e=c(i,"I",{});var a=d(e);t=c(a,"CENTER",{});var p=d(t);l=y(p,"Email is not valid"),p.forEach(n),a.forEach(n)},m(i,a){I(i,e,a),r(e,t),r(t,l)},p:ft,d(i){i&&n(e)}}}function yt(u){let e,t,l,i;return e=new ye({props:{on:"required",$$slots:{default:[Et]},$$scope:{ctx:u}}}),l=new ye({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[wt]},$$scope:{ctx:u}}}),{c(){z(e.$$.fragment),t=$(),z(l.$$.fragment)},l(a){j(e.$$.fragment,a),t=_(a),j(l.$$.fragment,a)},m(a,p){J(e,a,p),I(a,t,p),J(l,a,p),i=!0},p(a,p){const g={};p&4096&&(g.$$scope={dirty:p,ctx:a}),e.$set(g);const b={};p&4096&&(b.$$scope={dirty:p,ctx:a}),l.$set(b)},i(a){i||(K(e.$$.fragment,a),K(l.$$.fragment,a),i=!0)},o(a){Q(e.$$.fragment,a),Q(l.$$.fragment,a),i=!1},d(a){X(e,a),a&&n(t),X(l,a)}}}function It(u){let e;return{c(){e=w("This is a mandatory field")},l(t){e=y(t,"This is a mandatory field")},m(t,l){I(t,e,l)},d(t){t&&n(e)}}}function Tt(u){let e,t,l,i,a,p,g,b,Z,se,T,oe,S,ne,h,H,Ie,Te,P,Pe,D,Ae,x,Le,Se,A,Ue,C,Ne,ie,O,q,R,ke,F,Be,De,V,M,Ce,W,Oe,qe,G,Ve,_e,ge,ee,ue,Ge,ve,L,U,fe,He,N,ce,Re,k,de,pe,Fe,We,v=u[3]&&ot(u);return S=new st({props:{for:"username",$$slots:{default:[bt]},$$scope:{ctx:u}}}),D=new st({props:{for:"email",$$slots:{default:[yt]},$$scope:{ctx:u}}}),C=new ye({props:{for:"password",on:"required",$$slots:{default:[It]},$$scope:{ctx:u}}}),{c(){v&&v.c(),e=$(),t=f("h1"),l=w("Signup"),i=$(),a=f("form"),p=f("div"),g=f("div"),b=f("label"),Z=w("Username"),se=$(),T=f("input"),oe=$(),z(S.$$.fragment),ne=$(),h=f("div"),H=f("label"),Ie=w("Email Address"),Te=$(),P=f("input"),Pe=$(),z(D.$$.fragment),Ae=$(),x=f("label"),Le=w("Password"),Se=$(),A=f("input"),Ue=$(),z(C.$$.fragment),Ne=$(),ie=f("fieldset"),O=f("div"),q=f("label"),R=f("input"),ke=w(`
				I agree to the `),F=f("a"),Be=w("Terms and Conditions"),De=$(),V=f("label"),M=f("input"),Ce=w(`
				I agree to the `),W=f("a"),Oe=w("Privacy Policy"),qe=$(),G=f("button"),Ve=w("Sign up"),ge=$(),ee=f("center"),ue=f("p"),Ge=w("Or create an account with:"),ve=$(),L=f("div"),U=f("a"),fe=f("i"),He=$(),N=f("a"),ce=f("i"),Re=$(),k=f("a"),de=f("i"),this.h()},l(s){v&&v.l(s),e=_(s),t=c(s,"H1",{class:!0});var m=d(t);l=y(m,"Signup"),m.forEach(n),i=_(s),a=c(s,"FORM",{method:!0});var E=d(a);p=c(E,"DIV",{class:!0});var Y=d(p);g=c(Y,"DIV",{});var B=d(g);b=c(B,"LABEL",{for:!0});var Ye=d(b);Z=y(Ye,"Username"),Ye.forEach(n),se=_(B),T=c(B,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),oe=_(B),j(S.$$.fragment,B),B.forEach(n),ne=_(Y),h=c(Y,"DIV",{});var te=d(h);H=c(te,"LABEL",{for:!0});var ze=d(H);Ie=y(ze,"Email Address"),ze.forEach(n),Te=_(te),P=c(te,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Pe=_(te),j(D.$$.fragment,te),te.forEach(n),Y.forEach(n),Ae=_(E),x=c(E,"LABEL",{for:!0});var je=d(x);Le=y(je,"Password"),je.forEach(n),Se=_(E),A=c(E,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Ue=_(E),j(C.$$.fragment,E),Ne=_(E),ie=c(E,"FIELDSET",{});var Je=d(ie);O=c(Je,"DIV",{class:!0});var be=d(O);q=c(be,"LABEL",{for:!0});var Ee=d(q);R=c(Ee,"INPUT",{type:!0,id:!0,name:!0}),ke=y(Ee,`
				I agree to the `),F=c(Ee,"A",{href:!0,target:!0});var Ke=d(F);Be=y(Ke,"Terms and Conditions"),Ke.forEach(n),Ee.forEach(n),De=_(be),V=c(be,"LABEL",{for:!0});var we=d(V);M=c(we,"INPUT",{type:!0,id:!0,name:!0}),Ce=y(we,`
				I agree to the `),W=c(we,"A",{href:!0,target:!0});var Qe=d(W);Oe=y(Qe,"Privacy Policy"),Qe.forEach(n),we.forEach(n),be.forEach(n),Je.forEach(n),qe=_(E),G=c(E,"BUTTON",{});var Xe=d(G);Ve=y(Xe,"Sign up"),Xe.forEach(n),E.forEach(n),ge=_(s),ee=c(s,"CENTER",{});var Ze=d(ee);ue=c(Ze,"P",{});var xe=d(ue);Ge=y(xe,"Or create an account with:"),xe.forEach(n),Ze.forEach(n),ve=_(s),L=c(s,"DIV",{class:!0});var ae=d(L);U=c(ae,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var et=d(U);fe=c(et,"I",{class:!0}),d(fe).forEach(n),et.forEach(n),He=_(ae),N=c(ae,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var tt=d(N);ce=c(tt,"I",{class:!0}),d(ce).forEach(n),tt.forEach(n),Re=_(ae),k=c(ae,"A",{href:!0,role:!0,class:!0,id:!0,"data-tooltip":!0});var at=d(k);de=c(at,"I",{class:!0}),d(de).forEach(n),at.forEach(n),ae.forEach(n),this.h()},h(){o(t,"class","page-name-header"),o(b,"for","username"),o(T,"type","username"),o(T,"name","username"),o(T,"id","username"),o(T,"placeholder","Goof"),o(H,"for","email"),o(P,"type","email"),o(P,"name","email"),o(P,"id","email"),o(P,"placeholder","goof@goofle.com"),o(p,"class","grid"),o(x,"for","password"),o(A,"type","password"),o(A,"name","password"),o(A,"id","password"),o(A,"placeholder","Password"),o(R,"type","checkbox"),o(R,"id","terms"),o(R,"name","terms"),o(F,"href","/terms"),o(F,"target","_blank"),o(q,"for","terms"),o(M,"type","checkbox"),o(M,"id","privacy"),o(M,"name","privacy"),o(W,"href","/privacy"),o(W,"target","_blank"),o(V,"for","privacy"),o(O,"class","grid"),G.disabled=_e=!u[4].valid,o(a,"method","POST"),o(fe,"class","bi bi-google"),o(U,"href","https://www.google.com"),o(U,"role","button"),o(U,"class","oauth-button secondary"),o(U,"id","google-oauth"),o(U,"data-tooltip","Signup with Google"),o(ce,"class","bi bi-discord"),o(N,"href","https://www.discord.com"),o(N,"role","button"),o(N,"class","oauth-button secondary"),o(N,"id","discord-oauth"),o(N,"data-tooltip","Signup with Discord"),o(de,"class","bi bi-github"),o(k,"href","https://www.github.com"),o(k,"role","button"),o(k,"class","oauth-button secondary"),o(k,"id","github-oauth"),o(k,"data-tooltip","Signup with GitHub"),o(L,"class","grid")},m(s,m){v&&v.m(s,m),I(s,e,m),I(s,t,m),r(t,l),I(s,i,m),I(s,a,m),r(a,p),r(p,g),r(g,b),r(b,Z),r(g,se),r(g,T),re(T,u[0]),r(g,oe),J(S,g,null),r(p,ne),r(p,h),r(h,H),r(H,Ie),r(h,Te),r(h,P),re(P,u[1]),r(h,Pe),J(D,h,null),r(a,Ae),r(a,x),r(x,Le),r(a,Se),r(a,A),re(A,u[2]),r(a,Ue),J(C,a,null),r(a,Ne),r(a,ie),r(ie,O),r(O,q),r(q,R),r(q,ke),r(q,F),r(F,Be),r(O,De),r(O,V),r(V,M),r(V,Ce),r(V,W),r(W,Oe),r(a,qe),r(a,G),r(G,Ve),I(s,ge,m),I(s,ee,m),r(ee,ue),r(ue,Ge),I(s,ve,m),I(s,L,m),r(L,U),r(U,fe),r(L,He),r(L,N),r(N,ce),r(L,Re),r(L,k),r(k,de),pe=!0,Fe||(We=[me(T,"input",u[8]),le(he.call(null,T,[$e])),me(P,"input",u[9]),le(he.call(null,P,[$e,_t])),me(A,"input",u[10]),le(he.call(null,A,[$e])),le(he.call(null,R,[$e])),le(he.call(null,M,[$e])),me(G,"click",u[6]),le(u[5].call(null,a)),me(a,"submit",ct(u[7]))],Fe=!0)},p(s,[m]){s[3]?v?v.p(s,m):(v=ot(s),v.c(),v.m(e.parentNode,e)):v&&(v.d(1),v=null),m&1&&re(T,s[0]);const E={};m&4096&&(E.$$scope={dirty:m,ctx:s}),S.$set(E),m&2&&P.value!==s[1]&&re(P,s[1]);const Y={};m&4096&&(Y.$$scope={dirty:m,ctx:s}),D.$set(Y),m&4&&A.value!==s[2]&&re(A,s[2]);const B={};m&4096&&(B.$$scope={dirty:m,ctx:s}),C.$set(B),(!pe||m&16&&_e!==(_e=!s[4].valid))&&(G.disabled=_e)},i(s){pe||(K(S.$$.fragment,s),K(D.$$.fragment,s),K(C.$$.fragment,s),pe=!0)},o(s){Q(S.$$.fragment,s),Q(D.$$.fragment,s),Q(C.$$.fragment,s),pe=!1},d(s){v&&v.d(s),s&&n(e),s&&n(t),s&&n(i),s&&n(a),X(S),X(D),X(C),s&&n(ge),s&&n(ee),s&&n(ve),s&&n(L),Fe=!1,dt(We)}}}var Pt=!0;function At(u,e,t){let l,i;rt(u,$t,h=>t(11,l=h));const a=gt();rt(u,a,h=>t(4,i=h));var p="",g="",b="";let Z;async function se(){try{const h={username:p,email:g,emailVisibility:Pt,password:b,passwordConfirm:b,role:"facilitator"};await lt.collection("users").create(h)!=null&&await lt.collection("users").authWithPassword(h.username,h.password),await Me("/createorg")}catch(h){console.log(h),t(3,Z=h),await Me("/signup")}}pt(async()=>{if(l)Me("/createorg");else return});function T(h){ht.call(this,u,h)}function oe(){p=this.value,t(0,p)}function S(){g=this.value,t(1,g)}function ne(){b=this.value,t(2,b)}return[p,g,b,Z,i,a,se,T,oe,S,ne]}class Lt extends nt{constructor(e){super(),it(this,e,At,Tt,ut,{})}}function St(u){let e,t,l;return t=new Lt({}),{c(){e=f("body"),z(t.$$.fragment)},l(i){e=c(i,"BODY",{});var a=d(e);j(t.$$.fragment,a),a.forEach(n)},m(i,a){I(i,e,a),J(t,e,null),l=!0},p:ft,i(i){l||(K(t.$$.fragment,i),l=!0)},o(i){Q(t.$$.fragment,i),l=!1},d(i){i&&n(e),X(t)}}}class Ct extends nt{constructor(e){super(),it(this,e,null,St,ut,{})}}export{Ct as default};
