import{S as be,i as $e,s as he,D as ve,e as K,b as _,H as ke,g as R,d as U,h as i,L as fe,o as ge,R as we,n as d,w as ye,f as Te,k as p,r as C,a as w,z as D,l as m,m as v,u as I,c as y,A as G,p as E,G as f,W as J,B as z,M as W,X as le,Z as Ne,C as V,N as Re,q as re}from"../chunks/index.4fc2f4c3.js";import{c as Ee,p as ce}from"../chunks/pocketbase.7918e77e.js";import{H as Le,a as ae}from"../chunks/HintGroup.74a3b5b1.js";import{u as Be}from"../chunks/useForm.24789db4.js";import{v as pe,r as me,e as Pe}from"../chunks/validators.c512e31b.js";import{g as ne}from"../chunks/navigation.7cb7a34e.js";function Ce(s){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function Ie(s){let r,n,t=!s[4]&&_e(s);return{c(){t&&t.c(),r=K()},l(e){t&&t.l(e),r=K()},m(e,l){t&&t.m(e,l),_(e,r,l),n=!0},p(e,l){e[4]?t&&(ye(),U(t,1,1,()=>{t=null}),Te()):t?(t.p(e,l),l&16&&R(t,1)):(t=_e(e),t.c(),R(t,1),t.m(r.parentNode,r))},i(e){n||(R(t),n=!0)},o(e){U(t),n=!1},d(e){t&&t.d(e),e&&i(r)}}}function _e(s){let r,n,t,e,l,a,u,b,q,g,O,L,S,F,k,T,B,Q,N,x,X,Y,H,Z,j,P,ee,A,te,oe;g=new Le({props:{for:"email",$$slots:{default:[He]},$$scope:{ctx:s}}}),B=new ae({props:{for:"password",on:"required",$$slots:{default:[Ae]},$$scope:{ctx:s}}});let h=s[3]&&de(s);return{c(){r=p("h1"),n=C("Login"),t=w(),e=p("form"),l=p("label"),a=C("Email Address"),u=w(),b=p("input"),q=w(),D(g.$$.fragment),O=w(),L=p("label"),S=C("Password"),F=w(),k=p("input"),T=w(),D(B.$$.fragment),Q=w(),N=p("button"),x=C("Login"),Y=w(),h&&h.c(),H=w(),Z=p("hr"),j=w(),P=p("button"),ee=C("Signup"),this.h()},l(o){r=m(o,"H1",{class:!0});var c=v(r);n=I(c,"Login"),c.forEach(i),t=y(o),e=m(o,"FORM",{});var $=v(e);l=m($,"LABEL",{for:!0});var M=v(l);a=I(M,"Email Address"),M.forEach(i),u=y($),b=m($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),q=y($),G(g.$$.fragment,$),O=y($),L=m($,"LABEL",{for:!0});var se=v(L);S=I(se,"Password"),se.forEach(i),F=y($),k=m($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),T=y($),G(B.$$.fragment,$),Q=y($),N=m($,"BUTTON",{id:!0,"aria-busy":!0});var ie=v(N);x=I(ie,"Login"),ie.forEach(i),$.forEach(i),Y=y(o),h&&h.l(o),H=y(o),Z=m(o,"HR",{}),j=y(o),P=m(o,"BUTTON",{id:!0});var ue=v(P);ee=I(ue,"Signup"),ue.forEach(i),this.h()},h(){E(r,"class","page-name-header"),E(l,"for","email"),E(b,"type","email"),E(b,"name","email"),E(b,"id","email"),E(b,"placeholder","goof@goofle.com"),E(L,"for","password"),E(k,"type","password"),E(k,"name","password"),E(k,"id","password"),E(k,"placeholder","Password"),E(N,"id","login_button"),N.disabled=X=!s[5].valid,E(N,"aria-busy",s[2]),E(P,"id","signup_button")},m(o,c){_(o,r,c),f(r,n),_(o,t,c),_(o,e,c),f(e,l),f(l,a),f(e,u),f(e,b),J(b,s[0]),f(e,q),z(g,e,null),f(e,O),f(e,L),f(L,S),f(e,F),f(e,k),J(k,s[1]),f(e,T),z(B,e,null),f(e,Q),f(e,N),f(N,x),_(o,Y,c),h&&h.m(o,c),_(o,H,c),_(o,Z,c),_(o,j,c),_(o,P,c),f(P,ee),A=!0,te||(oe=[W(b,"input",s[10]),le(pe.call(null,b,[me,Pe])),W(k,"input",s[11]),le(pe.call(null,k,[me])),W(N,"click",s[7]),le(s[6].call(null,e)),W(e,"submit",Ne(s[9])),W(P,"click",s[8])],te=!0)},p(o,c){c&1&&b.value!==o[0]&&J(b,o[0]);const $={};c&32768&&($.$$scope={dirty:c,ctx:o}),g.$set($),c&2&&k.value!==o[1]&&J(k,o[1]);const M={};c&32768&&(M.$$scope={dirty:c,ctx:o}),B.$set(M),(!A||c&32&&X!==(X=!o[5].valid))&&(N.disabled=X),(!A||c&4)&&E(N,"aria-busy",o[2]),o[3]?h?h.p(o,c):(h=de(o),h.c(),h.m(H.parentNode,H)):h&&(h.d(1),h=null)},i(o){A||(R(g.$$.fragment,o),R(B.$$.fragment,o),A=!0)},o(o){U(g.$$.fragment,o),U(B.$$.fragment,o),A=!1},d(o){o&&i(r),o&&i(t),o&&i(e),V(g),V(B),o&&i(Y),h&&h.d(o),o&&i(H),o&&i(Z),o&&i(j),o&&i(P),te=!1,Re(oe)}}}function Ue(s){let r,n,t,e;return{c(){r=p("i"),n=p("center"),t=C("This is a mandatory field"),e=p("br")},l(l){r=m(l,"I",{});var a=v(r);n=m(a,"CENTER",{});var u=v(n);t=I(u,"This is a mandatory field"),u.forEach(i),a.forEach(i),e=m(l,"BR",{})},m(l,a){_(l,r,a),f(r,n),f(n,t),_(l,e,a)},p:d,d(l){l&&i(r),l&&i(e)}}}function qe(s){let r,n,t,e;return{c(){r=p("i"),n=p("center"),t=C("Email is not valid"),e=p("br")},l(l){r=m(l,"I",{});var a=v(r);n=m(a,"CENTER",{});var u=v(n);t=I(u,"Email is not valid"),u.forEach(i),a.forEach(i),e=m(l,"BR",{})},m(l,a){_(l,r,a),f(r,n),f(n,t),_(l,e,a)},p:d,d(l){l&&i(r),l&&i(e)}}}function He(s){let r,n,t,e;return r=new ae({props:{on:"required",$$slots:{default:[Ue]},$$scope:{ctx:s}}}),t=new ae({props:{on:"email",hideWhenRequired:!0,class:"login-hint",$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){D(r.$$.fragment),n=w(),D(t.$$.fragment)},l(l){G(r.$$.fragment,l),n=y(l),G(t.$$.fragment,l)},m(l,a){z(r,l,a),_(l,n,a),z(t,l,a),e=!0},p(l,a){const u={};a&32768&&(u.$$scope={dirty:a,ctx:l}),r.$set(u);const b={};a&32768&&(b.$$scope={dirty:a,ctx:l}),t.$set(b)},i(l){e||(R(r.$$.fragment,l),R(t.$$.fragment,l),e=!0)},o(l){U(r.$$.fragment,l),U(t.$$.fragment,l),e=!1},d(l){V(r,l),l&&i(n),V(t,l)}}}function Ae(s){let r,n,t,e;return{c(){r=p("i"),n=p("center"),t=C("This is a mandatory field"),e=p("br")},l(l){r=m(l,"I",{});var a=v(r);n=m(a,"CENTER",{});var u=v(n);t=I(u,"This is a mandatory field"),u.forEach(i),a.forEach(i),e=m(l,"BR",{})},m(l,a){_(l,r,a),f(r,n),f(n,t),_(l,e,a)},p:d,d(l){l&&i(r),l&&i(e)}}}function de(s){let r,n;return{c(){r=p("center"),n=p("input"),this.h()},l(t){r=m(t,"CENTER",{});var e=v(r);n=m(e,"INPUT",{style:!0,type:!0}),e.forEach(i),this.h()},h(){re(n,"border","2px solid red"),re(n,"border-radius","5px"),re(n,"text-align","center"),E(n,"type","text"),n.value=s[3],n.readOnly=!0},m(t,e){_(t,r,e),f(r,n)},p(t,e){e&8&&n.value!==t[3]&&(n.value=t[3])},d(t){t&&i(r)}}}function Oe(s){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function Se(s){let r,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:Oe,then:Ie,catch:Ce,value:14,blocks:[,,,]};return ve(Ee,t),{c(){r=K(),t.block.c()},l(e){r=K(),t.block.l(e)},m(e,l){_(e,r,l),t.block.m(e,t.anchor=l),t.mount=()=>r.parentNode,t.anchor=r,n=!0},p(e,[l]){s=e,ke(t,s,l)},i(e){n||(R(t.block),n=!0)},o(e){for(let l=0;l<3;l+=1){const a=t.blocks[l];U(a)}n=!1},d(e){e&&i(r),t.block.d(e),t.token=null,t=null}}}function Fe(s,r,n){let t,e;fe(s,Ee,T=>n(4,t=T));const l=Be();fe(s,l,T=>n(5,e=T));var a="",u="";let b=!1,q=!1,g;async function O(){try{n(2,q=!0),n(3,g=!1),b=!1,await ce.collection("users").authWithPassword(a,u),ne("/dashboard")}catch(T){n(2,q=!1),console.log(ce.authStore.isValid),n(3,g=T)}}function L(){ne("/signup")}ge(async()=>{if(t)ne("/createorg");else return});function S(T){we.call(this,s,T)}function F(){a=this.value,n(0,a)}function k(){u=this.value,n(1,u)}return[a,u,q,g,t,e,l,O,L,S,F,k]}class Me extends be{constructor(r){super(),$e(this,r,Fe,Se,he,{})}}function We(s){let r,n,t,e,l;return n=new Me({}),{c(){r=p("body"),D(n.$$.fragment),t=w(),e=p("pre")},l(a){r=m(a,"BODY",{});var u=v(r);G(n.$$.fragment,u),u.forEach(i),t=y(a),e=m(a,"PRE",{}),v(e).forEach(i)},m(a,u){_(a,r,u),z(n,r,null),_(a,t,u),_(a,e,u),l=!0},p:d,i(a){l||(R(n.$$.fragment,a),l=!0)},o(a){U(n.$$.fragment,a),l=!1},d(a){a&&i(r),V(n),a&&i(t),a&&i(e)}}}class Ze extends be{constructor(r){super(),$e(this,r,null,We,he,{})}}export{Ze as default};
