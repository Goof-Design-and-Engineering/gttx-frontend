import{S as Me,i as We,s as ze,k as i,r as w,a as g,z as W,l as u,m,u as T,h as o,c as E,A as z,p as c,b as y,G as n,W as x,B as X,M as le,X as ee,Z as Xe,g as Y,d as Z,C as j,N as Ye,L as Ve,o as Ze,n as oe,q as Be,R as je}from"../chunks/index.4fc2f4c3.js";import{c as Je,p as He}from"../chunks/pocketbase.cc5ca80f.js";import{H as Fe,a as de}from"../chunks/HintGroup.74a3b5b1.js";import{u as Ke}from"../chunks/useForm.24789db4.js";import{v as ne,r as se,e as Qe}from"../chunks/validators.c512e31b.js";import{g as Le}from"../chunks/navigation.3dc8513e.js";function xe(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function et(f){let t,a;return t=new de({props:{on:"required",$$slots:{default:[xe]},$$scope:{ctx:f}}}),{c(){W(t.$$.fragment)},l(l){z(t.$$.fragment,l)},m(l,r){X(t,l,r),a=!0},p(l,r){const e={};r&8192&&(e.$$scope={dirty:r,ctx:l}),t.$set(e)},i(l){a||(Y(t.$$.fragment,l),a=!0)},o(l){Z(t.$$.fragment,l),a=!1},d(l){j(t,l)}}}function tt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function rt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("Email is not valid"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"Email is not valid"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function at(f){let t,a,l,r;return t=new de({props:{on:"required",$$slots:{default:[tt]},$$scope:{ctx:f}}}),l=new de({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[rt]},$$scope:{ctx:f}}}),{c(){W(t.$$.fragment),a=g(),W(l.$$.fragment)},l(e){z(t.$$.fragment,e),a=E(e),z(l.$$.fragment,e)},m(e,s){X(t,e,s),y(e,a,s),X(l,e,s),r=!0},p(e,s){const d={};s&8192&&(d.$$scope={dirty:s,ctx:e}),t.$set(d);const I={};s&8192&&(I.$$scope={dirty:s,ctx:e}),l.$set(I)},i(e){r||(Y(t.$$.fragment,e),Y(l.$$.fragment,e),r=!0)},o(e){Z(t.$$.fragment,e),Z(l.$$.fragment,e),r=!1},d(e){j(t,e),e&&o(a),j(l,e)}}}function lt(f){let t,a,l,r;return{c(){t=i("i"),a=i("center"),l=w("This is a mandatory field"),r=i("br")},l(e){t=u(e,"I",{});var s=m(t);a=u(s,"CENTER",{});var d=m(a);l=T(d,"This is a mandatory field"),d.forEach(o),s.forEach(o),r=u(e,"BR",{})},m(e,s){y(e,t,s),n(t,a),n(a,l),y(e,r,s)},p:oe,d(e){e&&o(t),e&&o(r)}}}function Ge(f){let t,a;return{c(){t=i("center"),a=i("input"),this.h()},l(l){t=u(l,"CENTER",{});var r=m(t);a=u(r,"INPUT",{style:!0,type:!0}),r.forEach(o),this.h()},h(){Be(a,"border","2px solid red"),Be(a,"border-radius","5px"),Be(a,"text-align","center"),c(a,"type","text"),a.value=f[3],a.readOnly=!0},m(l,r){y(l,t,r),n(t,a)},p(l,r){r&8&&a.value!==l[3]&&(a.value=l[3])},d(l){l&&o(t)}}}function nt(f){let t,a,l,r,e,s,d,I,O,v,te,B,re,U,A,b,ie,P,me,C,_e,J,he,$e,N,ve,S,be,ae,k,q,V,ge,H,Ee,ye,D,F,we,G,Te,Ie,L,Pe,ue,Ne,K,Ue,Re;B=new Fe({props:{for:"username",$$slots:{default:[et]},$$scope:{ctx:f}}}),C=new Fe({props:{for:"email",$$slots:{default:[at]},$$scope:{ctx:f}}}),S=new de({props:{for:"password",on:"required",$$slots:{default:[lt]},$$scope:{ctx:f}}});let $=f[3]&&Ge(f);return{c(){t=i("h1"),a=w("Signup"),l=g(),r=i("form"),e=i("div"),s=i("div"),d=i("label"),I=w("Username"),O=g(),v=i("input"),te=g(),W(B.$$.fragment),re=g(),U=i("div"),A=i("label"),b=w("Email Address"),ie=g(),P=i("input"),me=g(),W(C.$$.fragment),_e=g(),J=i("label"),he=w("Password"),$e=g(),N=i("input"),ve=g(),W(S.$$.fragment),be=g(),ae=i("fieldset"),k=i("div"),q=i("label"),V=i("input"),ge=w(`
				I agree to the `),H=i("a"),Ee=w("Terms and Conditions"),ye=g(),D=i("label"),F=i("input"),we=w(`
				I agree to the `),G=i("a"),Te=w("Privacy Policy"),Ie=g(),L=i("button"),Pe=w("Sign up"),Ne=g(),$&&$.c(),this.h()},l(p){t=u(p,"H1",{class:!0});var _=m(t);a=T(_,"Signup"),_.forEach(o),l=E(p),r=u(p,"FORM",{method:!0});var h=m(r);e=u(h,"DIV",{class:!0});var M=m(e);s=u(M,"DIV",{});var R=m(s);d=u(R,"LABEL",{for:!0});var Ae=m(d);I=T(Ae,"Username"),Ae.forEach(o),O=E(R),v=u(R,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),te=E(R),z(B.$$.fragment,R),R.forEach(o),re=E(M),U=u(M,"DIV",{});var Q=m(U);A=u(Q,"LABEL",{for:!0});var Ce=m(A);b=T(Ce,"Email Address"),Ce.forEach(o),ie=E(Q),P=u(Q,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),me=E(Q),z(C.$$.fragment,Q),Q.forEach(o),M.forEach(o),_e=E(h),J=u(h,"LABEL",{for:!0});var Se=m(J);he=T(Se,"Password"),Se.forEach(o),$e=E(h),N=u(h,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),ve=E(h),z(S.$$.fragment,h),be=E(h),ae=u(h,"FIELDSET",{});var ke=m(ae);k=u(ke,"DIV",{class:!0});var fe=m(k);q=u(fe,"LABEL",{for:!0});var ce=m(q);V=u(ce,"INPUT",{type:!0,id:!0,name:!0}),ge=T(ce,`
				I agree to the `),H=u(ce,"A",{href:!0,target:!0});var qe=m(H);Ee=T(qe,"Terms and Conditions"),qe.forEach(o),ce.forEach(o),ye=E(fe),D=u(fe,"LABEL",{for:!0});var pe=m(D);F=u(pe,"INPUT",{type:!0,id:!0,name:!0}),we=T(pe,`
				I agree to the `),G=u(pe,"A",{href:!0,target:!0});var De=m(G);Te=T(De,"Privacy Policy"),De.forEach(o),pe.forEach(o),fe.forEach(o),ke.forEach(o),Ie=E(h),L=u(h,"BUTTON",{"aria-busy":!0});var Oe=m(L);Pe=T(Oe,"Sign up"),Oe.forEach(o),Ne=E(h),$&&$.l(h),h.forEach(o),this.h()},h(){c(t,"class","page-name-header"),c(d,"for","username"),c(v,"type","username"),c(v,"name","username"),c(v,"id","username"),c(v,"placeholder","Goof"),c(A,"for","email"),c(P,"type","email"),c(P,"name","email"),c(P,"id","email"),c(P,"placeholder","goof@goofle.com"),c(e,"class","grid"),c(J,"for","password"),c(N,"type","password"),c(N,"name","password"),c(N,"id","password"),c(N,"placeholder","Password"),c(V,"type","checkbox"),c(V,"id","terms"),c(V,"name","terms"),c(H,"href","/terms"),c(H,"target","_blank"),c(q,"for","terms"),c(F,"type","checkbox"),c(F,"id","privacy"),c(F,"name","privacy"),c(G,"href","/privacy"),c(G,"target","_blank"),c(D,"for","privacy"),c(k,"class","grid"),L.disabled=ue=!f[5].valid,c(L,"aria-busy",f[4]),c(r,"method","POST")},m(p,_){y(p,t,_),n(t,a),y(p,l,_),y(p,r,_),n(r,e),n(e,s),n(s,d),n(d,I),n(s,O),n(s,v),x(v,f[0]),n(s,te),X(B,s,null),n(e,re),n(e,U),n(U,A),n(A,b),n(U,ie),n(U,P),x(P,f[1]),n(U,me),X(C,U,null),n(r,_e),n(r,J),n(J,he),n(r,$e),n(r,N),x(N,f[2]),n(r,ve),X(S,r,null),n(r,be),n(r,ae),n(ae,k),n(k,q),n(q,V),n(q,ge),n(q,H),n(H,Ee),n(k,ye),n(k,D),n(D,F),n(D,we),n(D,G),n(G,Te),n(r,Ie),n(r,L),n(L,Pe),n(r,Ne),$&&$.m(r,null),K=!0,Ue||(Re=[le(v,"input",f[9]),ee(ne.call(null,v,[se])),le(P,"input",f[10]),ee(ne.call(null,P,[se,Qe])),le(N,"input",f[11]),ee(ne.call(null,N,[se])),ee(ne.call(null,V,[se])),ee(ne.call(null,F,[se])),le(L,"click",f[7]),ee(f[6].call(null,r)),le(r,"submit",Xe(f[8]))],Ue=!0)},p(p,[_]){_&1&&x(v,p[0]);const h={};_&8192&&(h.$$scope={dirty:_,ctx:p}),B.$set(h),_&2&&P.value!==p[1]&&x(P,p[1]);const M={};_&8192&&(M.$$scope={dirty:_,ctx:p}),C.$set(M),_&4&&N.value!==p[2]&&x(N,p[2]);const R={};_&8192&&(R.$$scope={dirty:_,ctx:p}),S.$set(R),(!K||_&32&&ue!==(ue=!p[5].valid))&&(L.disabled=ue),(!K||_&16)&&c(L,"aria-busy",p[4]),p[3]?$?$.p(p,_):($=Ge(p),$.c(),$.m(r,null)):$&&($.d(1),$=null)},i(p){K||(Y(B.$$.fragment,p),Y(C.$$.fragment,p),Y(S.$$.fragment,p),K=!0)},o(p){Z(B.$$.fragment,p),Z(C.$$.fragment,p),Z(S.$$.fragment,p),K=!1},d(p){p&&o(t),p&&o(l),p&&o(r),j(B),j(C),j(S),$&&$.d(),Ue=!1,Ye(Re)}}}var st=!0;function ot(f,t,a){let l,r;Ve(f,Je,b=>a(12,l=b));const e=Ke();Ve(f,e,b=>a(5,r=b));var s="",d="",I="";let O,v=!1;async function te(){try{a(4,v=!0),a(3,O=!1);const b={username:s,email:d,emailVisibility:st,password:I,passwordConfirm:I,role:"facilitator"};await He.collection("users").create(b)!=null&&await He.collection("users").authWithPassword(b.username,b.password),await Le("/createorg")}catch(b){a(4,v=!1),a(3,O=b),await Le("/signup")}}Ze(async()=>{if(l)Le("/createorg");else return});function B(b){je.call(this,f,b)}function re(){s=this.value,a(0,s)}function U(){d=this.value,a(1,d)}function A(){I=this.value,a(2,I)}return[s,d,I,O,v,r,e,te,B,re,U,A]}class it extends Me{constructor(t){super(),We(this,t,ot,nt,ze,{})}}function ut(f){let t,a,l;return a=new it({}),{c(){t=i("body"),W(a.$$.fragment)},l(r){t=u(r,"BODY",{});var e=m(t);z(a.$$.fragment,e),e.forEach(o)},m(r,e){y(r,t,e),X(a,t,null),l=!0},p:oe,i(r){l||(Y(a.$$.fragment,r),l=!0)},o(r){Z(a.$$.fragment,r),l=!1},d(r){r&&o(t),j(a)}}}class ht extends Me{constructor(t){super(),We(this,t,null,ut,ze,{})}}export{ht as default};
