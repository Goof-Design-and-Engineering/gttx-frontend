import{S as Dt,i as Tt,s as Ut,D as Rt,e as et,b as m,H as Vt,n as Y,h as i,L as Nt,o as zt,k as o,r as I,l as u,m as h,u as w,G as n,a as O,c as N,q as P,p as b,M as _t,v as Bt,N as Ht,F as ht,z as Gt,A as At,B as Ct,g as St,d as $t,C as Mt}from"../chunks/index.4fc2f4c3.js";import{c as qt,a as Lt,p as It}from"../chunks/pocketbase.7918e77e.js";import{g as tt}from"../chunks/navigation.7cb7a34e.js";function Yt(s){let t,e;return{c(){t=o("p"),e=I("Uh oh, something went wrong. Please try refreshing the page!")},l(l){t=u(l,"P",{});var r=h(t);e=w(r,"Uh oh, something went wrong. Please try refreshing the page!"),r.forEach(i)},m(l,r){m(l,t,r),n(t,e)},p:Y,d(l){l&&i(t)}}}function Wt(s){let t,e=s[1]&&wt(s);return{c(){e&&e.c(),t=et()},l(l){e&&e.l(l),t=et()},m(l,r){e&&e.m(l,r),m(l,t,r)},p(l,r){l[1]?e?e.p(l,r):(e=wt(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&i(t)}}}function wt(s){let t,e,l,r,f,c,_,v,g=s[1].username+"",p,y,E,D,B,W,F,j,z,G,rt,R,q,lt,A,at,V,L,J,C,K,Q,T,S,it,nt,$,st,ot,H,ut,ct,vt;function mt(a,d){return a[1].avatar?jt:Ft}let X=mt(s),U=X(s),k=s[2]&&Pt(s);return{c(){t=o("div"),e=o("div"),l=o("hgroup"),r=o("h1"),f=I("Your Account"),c=O(),_=o("h2"),v=I("Welcome back, "),p=I(g),y=O(),E=o("div"),U.c(),D=O(),B=o("hr"),W=O(),F=o("br"),j=O(),z=o("div"),G=o("div"),rt=I(`Name
				`),R=o("input"),lt=O(),A=o("div"),at=I(`Email
				`),V=o("input"),J=O(),k&&k.c(),C=O(),K=o("br"),Q=O(),T=o("div"),S=o("button"),it=I("Edit Account"),nt=O(),$=o("button"),st=I("Change Password"),ot=O(),H=o("button"),ut=I("Sign Out"),this.h()},l(a){t=u(a,"DIV",{class:!0});var d=h(t);e=u(d,"DIV",{});var bt=h(e);l=u(bt,"HGROUP",{});var Z=h(l);r=u(Z,"H1",{style:!0});var yt=h(r);f=w(yt,"Your Account"),yt.forEach(i),c=N(Z),_=u(Z,"H2",{});var ft=h(_);v=w(ft,"Welcome back, "),p=w(ft,g),ft.forEach(i),Z.forEach(i),bt.forEach(i),y=N(d),E=u(d,"DIV",{style:!0});var gt=h(E);U.l(gt),gt.forEach(i),d.forEach(i),D=N(a),B=u(a,"HR",{}),W=N(a),F=u(a,"BR",{}),j=N(a),z=u(a,"DIV",{class:!0});var x=h(z);G=u(x,"DIV",{});var pt=h(G);rt=w(pt,`Name
				`),R=u(pt,"INPUT",{style:!0,type:!0}),pt.forEach(i),lt=N(x),A=u(x,"DIV",{});var dt=h(A);at=w(dt,`Email
				`),V=u(dt,"INPUT",{style:!0,type:!0}),dt.forEach(i),x.forEach(i),J=N(a),k&&k.l(a),C=N(a),K=u(a,"BR",{}),Q=N(a),T=u(a,"DIV",{class:!0});var M=h(T);S=u(M,"BUTTON",{});var Et=h(S);it=w(Et,"Edit Account"),Et.forEach(i),nt=N(M),$=u(M,"BUTTON",{});var kt=h($);st=w(kt,"Change Password"),kt.forEach(i),ot=N(M),H=u(M,"BUTTON",{class:!0});var Ot=h(H);ut=w(Ot,"Sign Out"),Ot.forEach(i),M.forEach(i),this.h()},h(){P(r,"font-size","40px"),P(E,"text-align","right"),b(t,"class","grid"),P(R,"border","1px solid var(--primary)"),P(R,"border-radius","1px"),b(R,"type","text"),R.value=q=s[1].username,R.readOnly=!0,P(V,"border","1px solid var(--primary)"),P(V,"border-radius","1px"),b(V,"type","text"),V.value=L=s[1].email,V.readOnly=!0,b(z,"class","grid"),b(H,"class","contrast outline"),b(T,"class","grid")},m(a,d){m(a,t,d),n(t,e),n(e,l),n(l,r),n(r,f),n(l,c),n(l,_),n(_,v),n(_,p),n(t,y),n(t,E),U.m(E,null),m(a,D,d),m(a,B,d),m(a,W,d),m(a,F,d),m(a,j,d),m(a,z,d),n(z,G),n(G,rt),n(G,R),n(z,lt),n(z,A),n(A,at),n(A,V),m(a,J,d),k&&k.m(a,d),m(a,C,d),m(a,K,d),m(a,Q,d),m(a,T,d),n(T,S),n(S,it),n(T,nt),n(T,$),n($,st),n(T,ot),n(T,H),n(H,ut),ct||(vt=[_t(S,"click",s[4]),_t($,"click",s[5]),_t(H,"click",s[3])],ct=!0)},p(a,d){d&2&&g!==(g=a[1].username+"")&&Bt(p,g),X===(X=mt(a))&&U?U.p(a,d):(U.d(1),U=X(a),U&&(U.c(),U.m(E,null))),d&2&&q!==(q=a[1].username)&&R.value!==q&&(R.value=q),d&2&&L!==(L=a[1].email)&&V.value!==L&&(V.value=L),a[2]?k?k.p(a,d):(k=Pt(a),k.c(),k.m(C.parentNode,C)):k&&(k.d(1),k=null)},d(a){a&&i(t),U.d(),a&&i(D),a&&i(B),a&&i(W),a&&i(F),a&&i(j),a&&i(z),a&&i(J),k&&k.d(a),a&&i(C),a&&i(K),a&&i(Q),a&&i(T),ct=!1,Ht(vt)}}}function Ft(s){let t,e,l;return{c(){t=o("img"),this.h()},l(r){t=u(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){ht(t.src,e="/defaultpfp.png")||b(t,"src",e),b(t,"width","100"),b(t,"height","100"),P(t,"border-radius","25px"),b(t,"alt",l=s[1].username)},m(r,f){m(r,t,f)},p(r,f){f&2&&l!==(l=r[1].username)&&b(t,"alt",l)},d(r){r&&i(t)}}}function jt(s){let t,e,l;return{c(){t=o("img"),this.h()},l(r){t=u(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){ht(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+s[1].id+"/"+s[1].avatar+"?thumb=100x100")||b(t,"src",e),b(t,"width","100"),b(t,"height","100"),P(t,"border-radius","25px"),b(t,"alt",l=s[1].username)},m(r,f){m(r,t,f)},p(r,f){f&2&&!ht(t.src,e="https://api.gttx.app/api/files/_pb_users_auth_/"+r[1].id+"/"+r[1].avatar+"?thumb=100x100")&&b(t,"src",e),f&2&&l!==(l=r[1].username)&&b(t,"alt",l)},d(r){r&&i(t)}}}function Pt(s){let t,e,l,r,f,c,_,v,g;return{c(){t=o("div"),e=o("div"),l=I(`Organization
					`),r=o("input"),f=O(),c=o("div"),_=I(`Role
					`),v=o("input"),this.h()},l(p){t=u(p,"DIV",{class:!0});var y=h(t);e=u(y,"DIV",{});var E=h(e);l=w(E,`Organization
					`),r=u(E,"INPUT",{style:!0,type:!0}),E.forEach(i),f=N(y),c=u(y,"DIV",{});var D=h(c);_=w(D,`Role
					`),v=u(D,"INPUT",{style:!0,type:!0}),D.forEach(i),y.forEach(i),this.h()},h(){P(r,"border","1px solid var(--primary)"),P(r,"border-radius","1px"),b(r,"type","text"),r.value=s[0],r.readOnly=!0,P(v,"border","1px solid var(--primary)"),P(v,"border-radius","1px"),b(v,"type","text"),v.value=g=s[1].role,v.readOnly=!0,b(t,"class","grid")},m(p,y){m(p,t,y),n(t,e),n(e,l),n(e,r),n(t,f),n(t,c),n(c,_),n(c,v)},p(p,y){y&1&&r.value!==p[0]&&(r.value=p[0]),y&2&&g!==(g=p[1].role)&&v.value!==g&&(v.value=g)},d(p){p&&i(t)}}}function Jt(s){let t,e,l,r,f,c,_,v,g;return{c(){t=o("center"),e=o("br"),l=O(),r=o("hgroup"),f=o("h1"),c=I("Loading..."),_=O(),v=o("h2"),g=I("Give it a second..."),this.h()},l(p){t=u(p,"CENTER",{});var y=h(t);e=u(y,"BR",{}),l=N(y),r=u(y,"HGROUP",{});var E=h(r);f=u(E,"H1",{"aria-busy":!0});var D=h(f);c=w(D,"Loading..."),D.forEach(i),_=N(E),v=u(E,"H2",{});var B=h(v);g=w(B,"Give it a second..."),B.forEach(i),E.forEach(i),y.forEach(i),this.h()},h(){b(f,"aria-busy","true")},m(p,y){m(p,t,y),n(t,e),n(t,l),n(t,r),n(r,f),n(f,c),n(r,_),n(r,v),n(v,g)},p:Y,d(p){p&&i(t)}}}function Kt(s){let t,e={ctx:s,current:null,token:null,hasCatch:!0,pending:Jt,then:Wt,catch:Yt,error:8};return Rt(s[6](),e),{c(){t=et(),e.block.c()},l(l){t=et(),e.block.l(l)},m(l,r){m(l,t,r),e.block.m(l,e.anchor=r),e.mount=()=>t.parentNode,e.anchor=t},p(l,[r]){s=l,Vt(e,s,r)},i:Y,o:Y,d(l){l&&i(t),e.block.d(l),e.token=null,e=null}}}function Qt(s,t,e){let l,r;Nt(s,qt,p=>e(1,l=p)),Nt(s,Lt,p=>e(2,r=p));let f="None";async function c(){It.authStore.clear(),tt("/")}async function _(){tt("/account/edit")}async function v(){tt("/account/password")}async function g(){if(r){const p=await It.collection("organization").getOne(l==null?void 0:l.org);e(0,f=p.name)}}return zt(async()=>{l||tt("/login")}),[f,l,r,c,_,v,g]}class Xt extends Dt{constructor(t){super(),Tt(this,t,Qt,Kt,Ut,{})}}function Zt(s){let t,e,l,r,f;return e=new Xt({}),{c(){t=o("body"),Gt(e.$$.fragment),l=O(),r=o("pre")},l(c){t=u(c,"BODY",{});var _=h(t);At(e.$$.fragment,_),_.forEach(i),l=N(c),r=u(c,"PRE",{}),h(r).forEach(i)},m(c,_){m(c,t,_),Ct(e,t,null),m(c,l,_),m(c,r,_),f=!0},p:Y,i(c){f||(St(e.$$.fragment,c),f=!0)},o(c){$t(e.$$.fragment,c),f=!1},d(c){c&&i(t),Mt(e),c&&i(l),c&&i(r)}}}class re extends Dt{constructor(t){super(),Tt(this,t,null,Zt,Ut,{})}}export{re as default};
