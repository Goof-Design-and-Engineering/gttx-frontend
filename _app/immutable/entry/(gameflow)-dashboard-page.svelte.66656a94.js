import{S as ge,i as ke,s as Ee,D as Oe,e as J,b as v,H as Re,n as b,h as l,L as pe,o as Te,k as u,r as $,a as y,l as f,m as _,u as M,c as O,q as S,p as d,G as i,M as j,v as De,N as Ne,F as ne,z as we,A as $e,B as Me,g as Be,d as Ie,C as Ue}from"../chunks/index.b95161bf.js";import{c as ye,a as Ge,p as He}from"../chunks/pocketbase.c09fd52b.js";import{g as C}from"../chunks/navigation.7a5a56af.js";function Ce(n){return{c:b,l:b,m:b,p:b,d:b}}function Se(n){let e,t=n[0]&&be(n);return{c(){t&&t.c(),e=J()},l(a){t&&t.l(a),e=J()},m(a,r){t&&t.m(a,r),v(a,e,r)},p(a,r){a[0]?t?t.p(a,r):(t=be(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){t&&t.d(a),a&&l(e)}}}function be(n){let e,t,a,r,c,o,m,T,U=n[0].username+"",z,K,D,V,q,A,k,G,B,Q,X,E,P,N,Z,x,H,w,ee,te,R,ae,re,oe;function se(s,p){return s[0].avatar?Ve:ze}let F=se(n),g=F(n),h=n[1]=="facilitator"&&ve();return{c(){e=u("div"),t=u("div"),a=u("hgroup"),r=u("h1"),c=$("Dashboard"),o=y(),m=u("h2"),T=$("Welcome back, "),z=$(U),K=y(),D=u("div"),g.c(),V=y(),q=u("hr"),A=y(),k=u("article"),G=u("header"),B=u("button"),Q=$("Open a Game Room"),X=y(),E=u("div"),h&&h.c(),P=y(),N=u("button"),Z=$("Manage account"),x=y(),H=u("footer"),w=u("center"),ee=u("br"),te=y(),R=u("button"),ae=$("Sign out"),this.h()},l(s){e=f(s,"DIV",{class:!0});var p=_(e);t=f(p,"DIV",{});var ie=_(t);a=f(ie,"HGROUP",{});var L=_(a);r=f(L,"H1",{style:!0});var ce=_(r);c=M(ce,"Dashboard"),ce.forEach(l),o=O(L),m=f(L,"H2",{});var le=_(m);T=M(le,"Welcome back, "),z=M(le,U),le.forEach(l),L.forEach(l),ie.forEach(l),K=O(p),D=f(p,"DIV",{style:!0});var ue=_(D);g.l(ue),ue.forEach(l),p.forEach(l),V=O(s),q=f(s,"HR",{}),A=O(s),k=f(s,"ARTICLE",{});var I=_(k);G=f(I,"HEADER",{});var fe=_(G);B=f(fe,"BUTTON",{});var _e=_(B);Q=M(_e,"Open a Game Room"),_e.forEach(l),fe.forEach(l),X=O(I),E=f(I,"DIV",{class:!0});var W=_(E);h&&h.l(W),P=O(W),N=f(W,"BUTTON",{class:!0});var de=_(N);Z=M(de,"Manage account"),de.forEach(l),W.forEach(l),x=O(I),H=f(I,"FOOTER",{});var he=_(H);w=f(he,"CENTER",{});var Y=_(w);ee=f(Y,"BR",{}),te=O(Y),R=f(Y,"BUTTON",{style:!0,class:!0});var me=_(R);ae=M(me,"Sign out"),me.forEach(l),Y.forEach(l),he.forEach(l),I.forEach(l),this.h()},h(){S(r,"font-size","40px"),S(D,"text-align","right"),d(e,"class","grid"),d(N,"class","secondary"),d(E,"class","grid"),S(R,"width","50%"),d(R,"class","secondary outline")},m(s,p){v(s,e,p),i(e,t),i(t,a),i(a,r),i(r,c),i(a,o),i(a,m),i(m,T),i(m,z),i(e,K),i(e,D),g.m(D,null),v(s,V,p),v(s,q,p),v(s,A,p),v(s,k,p),i(k,G),i(G,B),i(B,Q),i(k,X),i(k,E),h&&h.m(E,null),i(E,P),i(E,N),i(N,Z),i(k,x),i(k,H),i(H,w),i(w,ee),i(w,te),i(w,R),i(R,ae),re||(oe=[j(B,"click",n[4]),j(N,"click",n[3]),j(R,"click",n[2])],re=!0)},p(s,p){p&1&&U!==(U=s[0].username+"")&&De(z,U),F===(F=se(s))&&g?g.p(s,p):(g.d(1),g=F(s),g&&(g.c(),g.m(D,null))),s[1]=="facilitator"?h?h.p(s,p):(h=ve(),h.c(),h.m(E,P)):h&&(h.d(1),h=null)},d(s){s&&l(e),g.d(),s&&l(V),s&&l(q),s&&l(A),s&&l(k),h&&h.d(),re=!1,Ne(oe)}}}function ze(n){let e,t,a;return{c(){e=u("img"),this.h()},l(r){e=f(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){ne(e.src,t="/defaultpfp.png")||d(e,"src",t),d(e,"width","100"),d(e,"height","100"),S(e,"border-radius","25px"),d(e,"alt",a=n[0].username)},m(r,c){v(r,e,c)},p(r,c){c&1&&a!==(a=r[0].username)&&d(e,"alt",a)},d(r){r&&l(e)}}}function Ve(n){let e,t,a;return{c(){e=u("img"),this.h()},l(r){e=f(r,"IMG",{src:!0,width:!0,height:!0,style:!0,alt:!0}),this.h()},h(){ne(e.src,t="https://api.gttx.app/api/files/_pb_users_auth_/"+n[0].id+"/"+n[0].avatar+"?thumb=100x100")||d(e,"src",t),d(e,"width","100"),d(e,"height","100"),S(e,"border-radius","25px"),d(e,"alt",a=n[0].username)},m(r,c){v(r,e,c)},p(r,c){c&1&&!ne(e.src,t="https://api.gttx.app/api/files/_pb_users_auth_/"+r[0].id+"/"+r[0].avatar+"?thumb=100x100")&&d(e,"src",t),c&1&&a!==(a=r[0].username)&&d(e,"alt",a)},d(r){r&&l(e)}}}function ve(n){let e,t,a,r;return{c(){e=u("button"),t=$("Manage Organization"),this.h()},l(c){e=f(c,"BUTTON",{class:!0,"data-tooltip":!0});var o=_(e);t=M(o,"Manage Organization"),o.forEach(l),this.h()},h(){d(e,"class","secondary"),d(e,"data-tooltip","Not implemented.")},m(c,o){v(c,e,o),i(e,t),a||(r=j(e,"click",Pe),a=!0)},p:b,d(c){c&&l(e),a=!1,r()}}}function qe(n){return{c:b,l:b,m:b,p:b,d:b}}function Ae(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:qe,then:Se,catch:Ce,value:7};return Oe(ye,t),{c(){e=J(),t.block.c()},l(a){e=J(),t.block.l(a)},m(a,r){v(a,e,r),t.block.m(a,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(a,[r]){n=a,Re(t,n,r)},i:b,o:b,d(a){a&&l(e),t.block.d(a),t.token=null,t=null}}}async function Pe(){alert("Not implemented.")}function Fe(n,e,t){let a,r;pe(n,ye,T=>t(0,a=T)),pe(n,Ge,T=>t(1,r=T));async function c(){try{await He.authStore.clear()}finally{C("/login")}}async function o(){C("/account")}async function m(){C("start")}return Te(()=>{if(a){if(a.org)return;C("/createorg")}else C("/login")}),[a,r,c,o,m]}class Le extends ge{constructor(e){super(),ke(this,e,Fe,Ae,Ee,{})}}function We(n){let e,t,a,r,c;return t=new Le({}),{c(){e=u("body"),we(t.$$.fragment),a=y(),r=u("pre")},l(o){e=f(o,"BODY",{});var m=_(e);$e(t.$$.fragment,m),m.forEach(l),a=O(o),r=f(o,"PRE",{}),_(r).forEach(l)},m(o,m){v(o,e,m),Me(t,e,null),v(o,a,m),v(o,r,m),c=!0},p:b,i(o){c||(Be(t.$$.fragment,o),c=!0)},o(o){Ie(t.$$.fragment,o),c=!1},d(o){o&&l(e),Ue(t),o&&l(a),o&&l(r)}}}class Ke extends ge{constructor(e){super(),ke(this,e,null,We,Ee,{})}}export{Ke as default};
