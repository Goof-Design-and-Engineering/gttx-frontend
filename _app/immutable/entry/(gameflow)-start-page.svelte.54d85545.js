import{S as He,i as Le,s as Ne,k as b,r as w,a as R,l as k,m as g,u as T,h as s,c as C,p as ze,b as d,G as u,V as et,M as me,W as tt,Y as Et,n as y,a1 as Ie,N as gt,L as Ae,o as Ve,v as Q,R as It,e as z,D as pt,H as dt,d as ce,f as bt,g as se,w as kt,z as ye,A as Be,B as Ge,C as Me,x as ve,P as Ee,Q as ge}from"../chunks/index.2c23944b.js";import{c as je,p as Ue,g as Dt,d as Rt,b as Ct}from"../chunks/pocketbase.72444d17.js";import{v as Pt,r as Ot,e as St,u as wt}from"../chunks/validators.5c902cd4.js";import{g as Fe}from"../chunks/navigation.3f61a3fc.js";function lt(i,e,l){const t=i.slice();return t[14]=e[l],t}function nt(i,e,l){const t=i.slice();return t[17]=e[l],t}function rt(i){let e,l,t=i[17]+"",r,o;return{c(){e=b("li"),l=b("ul"),r=w(t),o=R()},l(n){e=k(n,"LI",{});var c=g(e);l=k(c,"UL",{});var f=g(l);r=T(f,t),f.forEach(s),o=C(c),c.forEach(s)},m(n,c){d(n,e,c),u(e,l),u(l,r),u(e,o)},p(n,c){c&1&&t!==(t=n[17]+"")&&Q(r,t)},d(n){n&&s(e)}}}function Tt(i){let e;return{c(){e=b("progressbar")},l(l){e=k(l,"PROGRESSBAR",{}),g(e).forEach(s)},m(l,t){d(l,e,t)},p:y,d(l){l&&s(e)}}}function At(i){let e,l=i[4].expand.members,t=[];for(let r=0;r<l.length;r+=1)t[r]=ot(lt(i,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=z()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=z()},m(r,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(r,o);d(r,e,o)},p(r,o){if(o&19){l=r[4].expand.members;let n;for(n=0;n<l.length;n+=1){const c=lt(r,l,n);t[n]?t[n].p(c,o):(t[n]=ot(c),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){Ie(t,r),r&&s(e)}}}function ot(i){let e,l=i[14].username+"",t,r,o;function n(){return i[8](i[14])}return{c(){e=b("button"),t=w(l)},l(c){e=k(c,"BUTTON",{});var f=g(e);t=T(f,l),f.forEach(s)},m(c,f){d(c,e,f),u(e,t),r||(o=me(e,"click",n),r=!0)},p(c,f){i=c,f&16&&l!==(l=i[14].username+"")&&Q(t,l)},d(c){c&&s(e),r=!1,o()}}}function Ut(i){let e,l,t,r,o,n,c,f,m,a,h,E,v,p,S,P,N,X,K,O,B,Z,J,x,ee,j,ae,fe,te,W=i[0],L=[];for(let _=0;_<W.length;_+=1)L[_]=rt(nt(i,W,_));function he(_,H){return _[5]&&_[4]!={}?At:Tt}let le=he(i),F=le(i);return{c(){e=b("h1"),l=w("Email Picker"),t=R(),r=b("article"),o=b("h2"),n=w("Emails In"),c=R();for(let _=0;_<L.length;_+=1)L[_].c();f=R(),m=b("article"),a=b("h2"),h=w("Add from organization"),E=R(),F.c(),v=R(),p=b("hr"),S=R(),P=b("article"),N=b("h2"),X=w("Invite new people via email"),K=R(),O=b("form"),B=b("input"),Z=R(),J=b("button"),x=w("Add this email"),ee=R(),j=b("button"),ae=w("Invite people"),this.h()},l(_){e=k(_,"H1",{});var H=g(e);l=T(H,"Email Picker"),H.forEach(s),t=C(_),r=k(_,"ARTICLE",{});var U=g(r);o=k(U,"H2",{});var Y=g(o);n=T(Y,"Emails In"),Y.forEach(s),c=C(U);for(let ue=0;ue<L.length;ue+=1)L[ue].l(U);U.forEach(s),f=C(_),m=k(_,"ARTICLE",{});var ne=g(m);a=k(ne,"H2",{});var pe=g(a);h=T(pe,"Add from organization"),pe.forEach(s),E=C(ne),F.l(ne),ne.forEach(s),v=C(_),p=k(_,"HR",{}),S=C(_),P=k(_,"ARTICLE",{});var re=g(P);N=k(re,"H2",{});var oe=g(N);X=T(oe,"Invite new people via email"),oe.forEach(s),K=C(re),O=k(re,"FORM",{});var ie=g(O);B=k(ie,"INPUT",{type:!0,name:!0,id:!0}),Z=C(ie),J=k(ie,"BUTTON",{});var de=g(J);x=T(de,"Add this email"),de.forEach(s),ie.forEach(s),re.forEach(s),ee=C(_),j=k(_,"BUTTON",{});var $=g(j);ae=T($,"Invite people"),$.forEach(s),this.h()},h(){ze(B,"type","email"),ze(B,"name","email"),ze(B,"id","email")},m(_,H){d(_,e,H),u(e,l),d(_,t,H),d(_,r,H),u(r,o),u(o,n),u(r,c);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(r,null);d(_,f,H),d(_,m,H),u(m,a),u(a,h),u(m,E),F.m(m,null),d(_,v,H),d(_,p,H),d(_,S,H),d(_,P,H),u(P,N),u(N,X),u(P,K),u(P,O),u(O,B),et(B,i[3]),u(O,Z),u(O,J),u(J,x),d(_,ee,H),d(_,j,H),u(j,ae),fe||(te=[me(B,"input",i[9]),tt(Pt.call(null,B,[Ot,St])),me(J,"click",i[10]),tt(i[6].call(null,O)),me(O,"submit",Et(i[7])),me(j,"click",i[11])],fe=!0)},p(_,[H]){if(H&1){W=_[0];let U;for(U=0;U<W.length;U+=1){const Y=nt(_,W,U);L[U]?L[U].p(Y,H):(L[U]=rt(Y),L[U].c(),L[U].m(r,null))}for(;U<L.length;U+=1)L[U].d(1);L.length=W.length}le===(le=he(_))&&F?F.p(_,H):(F.d(1),F=le(_),F&&(F.c(),F.m(m,null))),H&8&&B.value!==_[3]&&et(B,_[3])},i:y,o:y,d(_){_&&s(e),_&&s(t),_&&s(r),Ie(L,_),_&&s(f),_&&s(m),F.d(),_&&s(v),_&&s(p),_&&s(S),_&&s(P),_&&s(ee),_&&s(j),fe=!1,gt(te)}}}function Ht(i,e,l){let t;Ae(i,je,P=>l(12,t=P));let{emails:r=[]}=e,{userIDs:o=[]}=e,{emailsPicked:n=!1}=e;const c=wt();let f="",m,a=!1;Ve(async()=>{l(4,m=await Ue.collection("organization").getOne(t.org,{expand:"members"})),l(5,a=!0)});function h(P){It.call(this,i,P)}const E=P=>{l(0,r=[...r,P.email]),l(1,o=[...o,P.id]),l(0,r=r.filter((N,X)=>r.indexOf(N)===X))};function v(){f=this.value,l(3,f)}const p=()=>{l(0,r=[...r,f]),l(0,r=r.filter((P,N)=>r.indexOf(P)===N))},S=()=>{l(2,n=!0)};return i.$$set=P=>{"emails"in P&&l(0,r=P.emails),"userIDs"in P&&l(1,o=P.userIDs),"emailsPicked"in P&&l(2,n=P.emailsPicked)},[r,o,n,f,m,a,c,h,E,v,p,S]}class Lt extends He{constructor(e){super(),Le(this,e,Ht,Ut,Ne,{emails:0,userIDs:1,emailsPicked:2})}}function it(i,e,l){const t=i.slice();return t[5]=e[l],t}function Nt(i){let e=i[8]+"",l;return{c(){l=w(e)},l(t){l=T(t,e)},m(t,r){d(t,l,r)},p:y,d(t){t&&s(l)}}}function yt(i){let e,l=i[4],t=[];for(let r=0;r<l.length;r+=1)t[r]=ct(it(i,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=z()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=z()},m(r,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(r,o);d(r,e,o)},p(r,o){if(o&3){l=r[4];let n;for(n=0;n<l.length;n+=1){const c=it(r,l,n);t[n]?t[n].p(c,o):(t[n]=ct(c),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){Ie(t,r),r&&s(e)}}}function ct(i){let e,l,t,r,o=i[5].id+"",n,c,f,m;function a(){return i[2](i[5])}return{c(){e=b("li"),l=b("ul"),t=b("a"),r=w("INVITE CODE = "),n=w(o),c=R()},l(h){e=k(h,"LI",{});var E=g(e);l=k(E,"UL",{});var v=g(l);t=k(v,"A",{});var p=g(t);r=T(p,"INVITE CODE = "),n=T(p,o),p.forEach(s),v.forEach(s),c=C(E),E.forEach(s)},m(h,E){d(h,e,E),u(e,l),u(l,t),u(t,r),u(t,n),u(e,c),f||(m=me(t,"click",a),f=!0)},p(h,E){i=h},d(h){h&&s(e),f=!1,m()}}}function Bt(i){let e;return{c(){e=b("progressbar")},l(l){e=k(l,"PROGRESSBAR",{}),g(e).forEach(s)},m(l,t){d(l,e,t)},p:y,d(l){l&&s(e)}}}function Gt(i){let e,l,t,r,o={ctx:i,current:null,token:null,hasCatch:!0,pending:Bt,then:yt,catch:Nt,value:4,error:8};return pt(i[0](),o),{c(){e=b("h1"),l=w("Recent Games"),t=R(),r=z(),o.block.c()},l(n){e=k(n,"H1",{});var c=g(e);l=T(c,"Recent Games"),c.forEach(s),t=C(n),r=z(),o.block.l(n)},m(n,c){d(n,e,c),u(e,l),d(n,t,c),d(n,r,c),o.block.m(n,o.anchor=c),o.mount=()=>r.parentNode,o.anchor=r},p(n,[c]){i=n,dt(o,i,c)},i:y,o:y,d(n){n&&s(e),n&&s(t),n&&s(r),o.block.d(n),o.token=null,o=null}}}function Mt(i,e,l){let t;Ae(i,je,c=>l(3,t=c));async function r(){return await Ue.collection("room").getFullList(200,{sort:"-created",filter:`org='${t.org}'`})}async function o(c){try{const f=await Ue.collection("users").update(t.id,{roomid:c})}catch(f){console.log(f)}finally{Fe("/dashboard/notes")}return record}return[r,o,c=>o(c.id)]}class vt extends He{constructor(e){super(),Le(this,e,Mt,Gt,Ne,{})}}function st(i,e,l){const t=i.slice();return t[7]=e[l],t}function at(i,e,l){const t=i.slice();return t[10]=e[l][0],t[11]=e[l][1],t}function ft(i,e,l){const t=i.slice();return t[14]=e[l],t}function ut(i){let e,l;function t(n,c){return c&1&&(e=null),e==null&&(e=!!Array.isArray(n[0])),e?Ft:zt}let r=t(i,-1),o=r(i);return{c(){o.c(),l=z()},l(n){o.l(n),l=z()},m(n,c){o.m(n,c),d(n,l,c)},p(n,c){r===(r=t(n,c))&&o?o.p(n,c):(o.d(1),o=r(n),o&&(o.c(),o.m(l.parentNode,l)))},d(n){o.d(n),n&&s(l)}}}function zt(i){let e,l,t,r;return{c(){e=b("h3"),l=w("FAILURE"),t=R(),r=w(i[0])},l(o){e=k(o,"H3",{});var n=g(e);l=T(n,"FAILURE"),n.forEach(s),t=C(o),r=T(o,i[0])},m(o,n){d(o,e,n),u(e,l),d(o,t,n),d(o,r,n)},p(o,n){n&1&&Q(r,o[0])},d(o){o&&s(e),o&&s(t),o&&s(r)}}}function Ft(i){let e,l=i[0],t=[];for(let r=0;r<l.length;r+=1)t[r]=ht(st(i,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=z()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=z()},m(r,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(r,o);d(r,e,o)},p(r,o){if(o&5){l=r[0];let n;for(n=0;n<l.length;n+=1){const c=st(r,l,n);t[n]?t[n].p(c,o):(t[n]=ht(c),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){Ie(t,r),r&&s(e)}}}function _t(i){let e,l=i[14]+"",t,r;return{c(){e=b("li"),t=w(l),r=R()},l(o){e=k(o,"LI",{});var n=g(e);t=T(n,l),r=C(n),n.forEach(s)},m(o,n){d(o,e,n),u(e,t),u(e,r)},p(o,n){n&1&&l!==(l=o[14]+"")&&Q(t,l)},d(o){o&&s(e)}}}function mt(i){let e,l=i[10]+"",t,r,o,n=i[11].description+"",c,f,m,a,h,E;function v(){return i[6](i[7],i[10])}return{c(){e=b("em"),t=w(l),r=R(),o=b("p"),c=w(n),f=R(),m=b("button"),a=w("Choose this scenario and module")},l(p){e=k(p,"EM",{});var S=g(e);t=T(S,l),S.forEach(s),r=C(p),o=k(p,"P",{});var P=g(o);c=T(P,n),P.forEach(s),f=C(p),m=k(p,"BUTTON",{});var N=g(m);a=T(N,"Choose this scenario and module"),N.forEach(s)},m(p,S){d(p,e,S),u(e,t),d(p,r,S),d(p,o,S),u(o,c),d(p,f,S),d(p,m,S),u(m,a),h||(E=me(m,"click",v),h=!0)},p(p,S){i=p,S&1&&l!==(l=i[10]+"")&&Q(t,l),S&1&&n!==(n=i[11].description+"")&&Q(c,n)},d(p){p&&s(e),p&&s(r),p&&s(o),p&&s(f),p&&s(m),h=!1,E()}}}function ht(i){var qe,Je,We,Ye,Qe,Xe,Ke,Ze,$e,xe;let e,l,t=i[7].name+"",r,o,n,c=(((Je=(qe=i[7].contents)==null?void 0:qe.overview)==null?void 0:Je.name)||"")+"",f,m,a,h=(((We=i[7].contents)==null?void 0:We.name)||"")+"",E,v,p=(((Ye=i[7].contents)==null?void 0:Ye.source)||"")+"",S,P,N,X,K,O,B,Z,J=(((Xe=(Qe=i[7].contents)==null?void 0:Qe.overview)==null?void 0:Xe.purpose)||"")+"",x,ee,j,ae,fe,te,W=(((Ze=(Ke=i[7].contents)==null?void 0:Ke.overview)==null?void 0:Ze.scope)||"")+"",L,he,le,F,_,H,U,Y,ne,pe,re,oe,ie,de,$,ue,be=(($e=i[7].contents)==null?void 0:$e.overview.objectives)||[],G=[];for(let D=0;D<be.length;D+=1)G[D]=_t(ft(i,be,D));let ke=Object.entries(((xe=i[7].contents)==null?void 0:xe.modules)||[]),M=[];for(let D=0;D<ke.length;D+=1)M[D]=mt(at(i,ke,D));return{c(){e=b("details"),l=b("summary"),r=w(t),o=R(),n=b("h2"),f=w(c),m=R(),a=b("h5"),E=w(h),v=R(),S=w(p),P=R(),N=b("hr"),X=R(),K=b("h4"),O=w("PURPOSE"),B=R(),Z=b("p"),x=w(J),ee=R(),j=b("h4"),ae=w("SCOPE"),fe=R(),te=b("p"),L=w(W),he=R(),le=b("hr"),F=R(),_=b("h4"),H=w("OBJECTIVES"),U=R(),Y=b("ul");for(let D=0;D<G.length;D+=1)G[D].c();ne=R(),pe=b("hr"),re=R(),oe=b("h4"),ie=w("MODULES"),de=R(),$=b("ul");for(let D=0;D<M.length;D+=1)M[D].c();ue=R()},l(D){e=k(D,"DETAILS",{});var I=g(e);l=k(I,"SUMMARY",{});var V=g(l);r=T(V,t),V.forEach(s),o=C(I),n=k(I,"H2",{});var De=g(n);f=T(De,c),De.forEach(s),m=C(I),a=k(I,"H5",{});var _e=g(a);E=T(_e,h),v=C(_e),S=T(_e,p),_e.forEach(s),P=C(I),N=k(I,"HR",{}),X=C(I),K=k(I,"H4",{});var Re=g(K);O=T(Re,"PURPOSE"),Re.forEach(s),B=C(I),Z=k(I,"P",{});var Ce=g(Z);x=T(Ce,J),Ce.forEach(s),ee=C(I),j=k(I,"H4",{});var Pe=g(j);ae=T(Pe,"SCOPE"),Pe.forEach(s),fe=C(I),te=k(I,"P",{});var Oe=g(te);L=T(Oe,W),Oe.forEach(s),he=C(I),le=k(I,"HR",{}),F=C(I),_=k(I,"H4",{});var Se=g(_);H=T(Se,"OBJECTIVES"),Se.forEach(s),U=C(I),Y=k(I,"UL",{});var we=g(Y);for(let q=0;q<G.length;q+=1)G[q].l(we);we.forEach(s),ne=C(I),pe=k(I,"HR",{}),re=C(I),oe=k(I,"H4",{});var Te=g(oe);ie=T(Te,"MODULES"),Te.forEach(s),de=C(I),$=k(I,"UL",{});var A=g($);for(let q=0;q<M.length;q+=1)M[q].l(A);A.forEach(s),ue=C(I),I.forEach(s)},m(D,I){d(D,e,I),u(e,l),u(l,r),u(e,o),u(e,n),u(n,f),u(e,m),u(e,a),u(a,E),u(a,v),u(a,S),u(e,P),u(e,N),u(e,X),u(e,K),u(K,O),u(e,B),u(e,Z),u(Z,x),u(e,ee),u(e,j),u(j,ae),u(e,fe),u(e,te),u(te,L),u(e,he),u(e,le),u(e,F),u(e,_),u(_,H),u(e,U),u(e,Y);for(let V=0;V<G.length;V+=1)G[V]&&G[V].m(Y,null);u(e,ne),u(e,pe),u(e,re),u(e,oe),u(oe,ie),u(e,de),u(e,$);for(let V=0;V<M.length;V+=1)M[V]&&M[V].m($,null);u(e,ue)},p(D,I){var V,De,_e,Re,Ce,Pe,Oe,Se,we,Te;if(I&1&&t!==(t=D[7].name+"")&&Q(r,t),I&1&&c!==(c=(((De=(V=D[7].contents)==null?void 0:V.overview)==null?void 0:De.name)||"")+"")&&Q(f,c),I&1&&h!==(h=(((_e=D[7].contents)==null?void 0:_e.name)||"")+"")&&Q(E,h),I&1&&p!==(p=(((Re=D[7].contents)==null?void 0:Re.source)||"")+"")&&Q(S,p),I&1&&J!==(J=(((Pe=(Ce=D[7].contents)==null?void 0:Ce.overview)==null?void 0:Pe.purpose)||"")+"")&&Q(x,J),I&1&&W!==(W=(((Se=(Oe=D[7].contents)==null?void 0:Oe.overview)==null?void 0:Se.scope)||"")+"")&&Q(L,W),I&1){be=((we=D[7].contents)==null?void 0:we.overview.objectives)||[];let A;for(A=0;A<be.length;A+=1){const q=ft(D,be,A);G[A]?G[A].p(q,I):(G[A]=_t(q),G[A].c(),G[A].m(Y,null))}for(;A<G.length;A+=1)G[A].d(1);G.length=be.length}if(I&5){ke=Object.entries(((Te=D[7].contents)==null?void 0:Te.modules)||[]);let A;for(A=0;A<ke.length;A+=1){const q=at(D,ke,A);M[A]?M[A].p(q,I):(M[A]=mt(q),M[A].c(),M[A].m($,null))}for(;A<M.length;A+=1)M[A].d(1);M.length=ke.length}},d(D){D&&s(e),Ie(G,D),Ie(M,D)}}}function Vt(i){let e,l,t,r,o=i[1]&&ut(i);return{c(){e=b("h1"),l=w("Scenarios"),t=R(),o&&o.c(),r=z()},l(n){e=k(n,"H1",{});var c=g(e);l=T(c,"Scenarios"),c.forEach(s),t=C(n),o&&o.l(n),r=z()},m(n,c){d(n,e,c),u(e,l),d(n,t,c),o&&o.m(n,c),d(n,r,c)},p(n,[c]){n[1]?o?o.p(n,c):(o=ut(n),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:y,o:y,d(n){n&&s(e),n&&s(t),o&&o.d(n),n&&s(r)}}}function jt(i,e,l){let{scenarioChosen:t=!1}=e,r=[],o=!1,{scenarioID:n=""}=e,{moduleID:c=""}=e;Ve(async()=>{const a=await Dt();l(0,r=a)});function f(a,h){l(4,n=a),l(5,c=h),l(3,t=!0)}const m=(a,h)=>f(a.id,h);return i.$$set=a=>{"scenarioChosen"in a&&l(3,t=a.scenarioChosen),"scenarioID"in a&&l(4,n=a.scenarioID),"moduleID"in a&&l(5,c=a.moduleID)},l(1,o=!0),[r,o,f,t,n,c,m]}class qt extends He{constructor(e){super(),Le(this,e,jt,Vt,Ne,{scenarioChosen:3,scenarioID:4,moduleID:5})}}function Jt(i){let e;return{c(){e=b("progressbar")},l(l){e=k(l,"PROGRESSBAR",{}),g(e).forEach(s)},m(l,t){d(l,e,t)},p:y,i:y,o:y,d(l){l&&s(e)}}}function Wt(i){let e,l,t,r,o;return r=new vt({}),{c(){e=b("br"),l=R(),t=b("article"),ye(r.$$.fragment)},l(n){e=k(n,"BR",{}),l=C(n),t=k(n,"ARTICLE",{});var c=g(t);Be(r.$$.fragment,c),c.forEach(s)},m(n,c){d(n,e,c),d(n,l,c),d(n,t,c),Ge(r,t,null),o=!0},p:y,i(n){o||(se(r.$$.fragment,n),o=!0)},o(n){ce(r.$$.fragment,n),o=!1},d(n){n&&s(e),n&&s(l),n&&s(t),Me(r)}}}function Yt(i){let e,l,t,r,o,n,c,f,m;const a=[Kt,Xt,Qt],h=[];function E(v,p){return v[0]==!0&&v[1]==!0?0:v[0]==!1?1:2}return l=E(i),t=h[l]=a[l](i),n=new vt({}),{c(){e=b("article"),t.c(),r=R(),o=b("article"),ye(n.$$.fragment),c=R(),f=b("pre")},l(v){e=k(v,"ARTICLE",{});var p=g(e);t.l(p),p.forEach(s),r=C(v),o=k(v,"ARTICLE",{});var S=g(o);Be(n.$$.fragment,S),S.forEach(s),c=C(v),f=k(v,"PRE",{}),g(f).forEach(s)},m(v,p){d(v,e,p),h[l].m(e,null),d(v,r,p),d(v,o,p),Ge(n,o,null),d(v,c,p),d(v,f,p),m=!0},p(v,p){let S=l;l=E(v),l===S?h[l].p(v,p):(kt(),ce(h[S],1,1,()=>{h[S]=null}),bt(),t=h[l],t?t.p(v,p):(t=h[l]=a[l](v),t.c()),se(t,1),t.m(e,null))},i(v){m||(se(t),se(n.$$.fragment,v),m=!0)},o(v){ce(t),ce(n.$$.fragment,v),m=!1},d(v){v&&s(e),h[l].d(),v&&s(r),v&&s(o),Me(n),v&&s(c),v&&s(f)}}}function Qt(i){let e,l,t,r,o;function n(a){i[11](a)}function c(a){i[12](a)}function f(a){i[13](a)}let m={};return i[4]!==void 0&&(m.emails=i[4]),i[5]!==void 0&&(m.usersIDs=i[5]),i[1]!==void 0&&(m.emailsPicked=i[1]),e=new Lt({props:m}),ve.push(()=>Ee(e,"emails",n)),ve.push(()=>Ee(e,"usersIDs",c)),ve.push(()=>Ee(e,"emailsPicked",f)),{c(){ye(e.$$.fragment)},l(a){Be(e.$$.fragment,a)},m(a,h){Ge(e,a,h),o=!0},p(a,h){const E={};!l&&h&16&&(l=!0,E.emails=a[4],ge(()=>l=!1)),!t&&h&32&&(t=!0,E.usersIDs=a[5],ge(()=>t=!1)),!r&&h&2&&(r=!0,E.emailsPicked=a[1],ge(()=>r=!1)),e.$set(E)},i(a){o||(se(e.$$.fragment,a),o=!0)},o(a){ce(e.$$.fragment,a),o=!1},d(a){Me(e,a)}}}function Xt(i){let e,l,t,r,o;function n(a){i[8](a)}function c(a){i[9](a)}function f(a){i[10](a)}let m={};return i[0]!==void 0&&(m.scenarioChosen=i[0]),i[2]!==void 0&&(m.scenarioID=i[2]),i[3]!==void 0&&(m.moduleID=i[3]),e=new qt({props:m}),ve.push(()=>Ee(e,"scenarioChosen",n)),ve.push(()=>Ee(e,"scenarioID",c)),ve.push(()=>Ee(e,"moduleID",f)),{c(){ye(e.$$.fragment)},l(a){Be(e.$$.fragment,a)},m(a,h){Ge(e,a,h),o=!0},p(a,h){const E={};!l&&h&1&&(l=!0,E.scenarioChosen=a[0],ge(()=>l=!1)),!t&&h&4&&(t=!0,E.scenarioID=a[2],ge(()=>t=!1)),!r&&h&8&&(r=!0,E.moduleID=a[3],ge(()=>r=!1)),e.$set(E)},i(a){o||(se(e.$$.fragment,a),o=!0)},o(a){ce(e.$$.fragment,a),o=!1},d(a){Me(e,a)}}}function Kt(i){let e,l={ctx:i,current:null,token:null,hasCatch:!0,pending:xt,then:$t,catch:Zt,value:18,error:19};return pt(i[7](),l),{c(){e=z(),l.block.c()},l(t){e=z(),l.block.l(t)},m(t,r){d(t,e,r),l.block.m(t,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e},p(t,r){i=t,dt(l,i,r)},i:y,o:y,d(t){t&&s(e),l.block.d(t),l.token=null,l=null}}}function Zt(i){let e=i[19]+"",l;return{c(){l=w(e)},l(t){l=T(t,e)},m(t,r){d(t,l,r)},p:y,d(t){t&&s(l)}}}function $t(i){let e=i[18].id+"",l;return{c(){l=w(e)},l(t){l=T(t,e)},m(t,r){d(t,l,r)},p:y,d(t){t&&s(l)}}}function xt(i){let e;return{c(){e=b("progressbar")},l(l){e=k(l,"PROGRESSBAR",{}),g(e).forEach(s)},m(l,t){d(l,e,t)},p:y,d(l){l&&s(e)}}}function el(i){let e,l,t,r;const o=[Yt,Wt,Jt],n=[];function c(f,m){return f[6]=="facilitator"?0:f[6]=="oberver"||f[6]=="participant"?1:2}return e=c(i),l=n[e]=o[e](i),{c(){l.c(),t=z()},l(f){l.l(f),t=z()},m(f,m){n[e].m(f,m),d(f,t,m),r=!0},p(f,[m]){let a=e;e=c(f),e===a?n[e].p(f,m):(kt(),ce(n[a],1,1,()=>{n[a]=null}),bt(),l=n[e],l?l.p(f,m):(l=n[e]=o[e](f),l.c()),se(l,1),l.m(t.parentNode,t))},i(f){r||(se(l),r=!0)},o(f){ce(l),r=!1},d(f){n[e].d(f),f&&s(t)}}}function tl(i,e,l){let t,r;Ae(i,je,O=>l(16,t=O)),Ae(i,Ct,O=>l(6,r=O));let o=!1,n=!1,c="",f="",m={},a=[],h=[],E={};Ve(async()=>{E=await Rt(),t||Fe("/login"),t.org||Fe("/createorg")});async function v(){m={org:t.org,users:[t.id],emails:a,currentUsers:0,settings:{},question:0,module:f,scenarios:c};const O={observer_code:E==null?void 0:E.observer_code,participant_code:E==null?void 0:E.participant_code,facilitator_code:E==null?void 0:E.facilitator_code};let B=`
		<html>
			<img class="gttx-logo" src="/svg/gttx_white.svg" alt="gttx!" />

			<p>
			Hello! Welcome to GTTX.
			Here is the information to get started:

			observer_code: ${O.observer_code}
			participant_code: ${O.participant_code}
			facilitator_code: ${O.facilitator_code}
			
			GOTO https://gttx.api/blah to get started!
			</p>
		</html>
		`;return m.emailbody=B,await Ue.collection("room").create(m)}function p(O){o=O,l(0,o)}function S(O){c=O,l(2,c)}function P(O){f=O,l(3,f)}function N(O){a=O,l(4,a)}function X(O){h=O,l(5,h)}function K(O){n=O,l(1,n)}return i.$$.update=()=>{i.$$.dirty&31&&(o&&(console.log("scenario has been chosen"),console.log(c,f)),n&&(console.log("emails have been chosen"),console.log(a)))},[o,n,c,f,a,h,r,v,p,S,P,N,X,K]}class il extends He{constructor(e){super(),Le(this,e,tl,el,Ne,{})}}export{il as default};
