import{S as ft,i as ct,s as dt,k as u,r as y,a as h,z as J,l as f,m as d,u as w,h as i,c as _,A as K,p as s,b as T,G as r,V as se,B as Q,M as he,W as ne,Y as mt,g as X,d as Z,C as x,N as ht,L as nt,o as _t,q as We,R as $t,n as pt}from"../chunks/index.f25a3516.js";import{c as gt,p as ot}from"../chunks/pocketbase.026f421a.js";import{H as it,a as Ie}from"../chunks/HintGroup.aa7a84a4.js";import{v as _e,r as $e,e as bt,u as vt}from"../chunks/validators.75e44f34.js";import{g as Ye}from"../chunks/navigation.aabaf4cf.js";function Et(c){let t;return{c(){t=y("This is a mandatory field")},l(e){t=w(e,"This is a mandatory field")},m(e,l){T(e,t,l)},d(e){e&&i(t)}}}function yt(c){let t,e;return t=new Ie({props:{on:"required",$$slots:{default:[Et]},$$scope:{ctx:c}}}),{c(){J(t.$$.fragment)},l(l){K(t.$$.fragment,l)},m(l,a){Q(t,l,a),e=!0},p(l,a){const n={};a&8192&&(n.$$scope={dirty:a,ctx:l}),t.$set(n)},i(l){e||(X(t.$$.fragment,l),e=!0)},o(l){Z(t.$$.fragment,l),e=!1},d(l){x(t,l)}}}function wt(c){let t;return{c(){t=y("This is a mandatory field")},l(e){t=w(e,"This is a mandatory field")},m(e,l){T(e,t,l)},d(e){e&&i(t)}}}function Tt(c){let t,e,l;return{c(){t=u("i"),e=u("center"),l=y("Email is not valid")},l(a){t=f(a,"I",{});var n=d(t);e=f(n,"CENTER",{});var p=d(e);l=w(p,"Email is not valid"),p.forEach(i),n.forEach(i)},m(a,n){T(a,t,n),r(t,e),r(e,l)},p:pt,d(a){a&&i(t)}}}function It(c){let t,e,l,a;return t=new Ie({props:{on:"required",$$slots:{default:[wt]},$$scope:{ctx:c}}}),l=new Ie({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[Tt]},$$scope:{ctx:c}}}),{c(){J(t.$$.fragment),e=h(),J(l.$$.fragment)},l(n){K(t.$$.fragment,n),e=_(n),K(l.$$.fragment,n)},m(n,p){Q(t,n,p),T(n,e,p),Q(l,n,p),a=!0},p(n,p){const E={};p&8192&&(E.$$scope={dirty:p,ctx:n}),t.$set(E);const I={};p&8192&&(I.$$scope={dirty:p,ctx:n}),l.$set(I)},i(n){a||(X(t.$$.fragment,n),X(l.$$.fragment,n),a=!0)},o(n){Z(t.$$.fragment,n),Z(l.$$.fragment,n),a=!1},d(n){x(t,n),n&&i(e),x(l,n)}}}function Pt(c){let t;return{c(){t=y("This is a mandatory field")},l(e){t=w(e,"This is a mandatory field")},m(e,l){T(e,t,l)},d(e){e&&i(t)}}}function ut(c){let t,e;return{c(){t=u("center"),e=u("input"),this.h()},l(l){t=f(l,"CENTER",{});var a=d(t);e=f(a,"INPUT",{style:!0,type:!0}),a.forEach(i),this.h()},h(){We(e,"border","2px solid red"),We(e,"border-radius","5px"),We(e,"text-align","center"),s(e,"type","text"),e.value=c[3],e.readOnly=!0},m(l,a){T(l,t,a),r(t,e)},p(l,a){a&8&&e.value!==l[3]&&(e.value=l[3])},d(l){l&&i(t)}}}function At(c){let t,e,l,a,n,p,E,I,F,v,oe,L,ie,S,q,g,ge,P,Pe,O,Ae,ee,Se,Ue,A,Le,V,Ne,ue,R,G,M,ke,W,Be,Ce,H,Y,De,z,qe,Oe,N,Ve,be,Re,ve,te,fe,ce,Ge,Ee,U,k,de,He,B,pe,Fe,C,me,ae,Me,ze;L=new it({props:{for:"username",$$slots:{default:[yt]},$$scope:{ctx:c}}}),O=new it({props:{for:"email",$$slots:{default:[It]},$$scope:{ctx:c}}}),V=new Ie({props:{for:"password",on:"required",$$slots:{default:[Pt]},$$scope:{ctx:c}}});let b=c[3]&&ut(c);return{c(){t=u("h1"),e=y("Signup"),l=h(),a=u("form"),n=u("div"),p=u("div"),E=u("label"),I=y("Username"),F=h(),v=u("input"),oe=h(),J(L.$$.fragment),ie=h(),S=u("div"),q=u("label"),g=y("Email Address"),ge=h(),P=u("input"),Pe=h(),J(O.$$.fragment),Ae=h(),ee=u("label"),Se=y("Password"),Ue=h(),A=u("input"),Le=h(),J(V.$$.fragment),Ne=h(),ue=u("fieldset"),R=u("div"),G=u("label"),M=u("input"),ke=y(`
				I agree to the `),W=u("a"),Be=y("Terms and Conditions"),Ce=h(),H=u("label"),Y=u("input"),De=y(`
				I agree to the `),z=u("a"),qe=y("Privacy Policy"),Oe=h(),N=u("button"),Ve=y("Sign up"),Re=h(),b&&b.c(),ve=h(),te=u("center"),fe=u("p"),ce=u("s"),Ge=y("Or create an account with:"),Ee=h(),U=u("div"),k=u("a"),de=u("i"),He=h(),B=u("a"),pe=u("i"),Fe=h(),C=u("a"),me=u("i"),this.h()},l(o){t=f(o,"H1",{class:!0});var m=d(t);e=w(m,"Signup"),m.forEach(i),l=_(o),a=f(o,"FORM",{method:!0});var $=d(a);n=f($,"DIV",{class:!0});var j=d(n);p=f(j,"DIV",{});var D=d(p);E=f(D,"LABEL",{for:!0});var je=d(E);I=w(je,"Username"),je.forEach(i),F=_(D),v=f(D,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),oe=_(D),K(L.$$.fragment,D),D.forEach(i),ie=_(j),S=f(j,"DIV",{});var re=d(S);q=f(re,"LABEL",{for:!0});var Je=d(q);g=w(Je,"Email Address"),Je.forEach(i),ge=_(re),P=f(re,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Pe=_(re),K(O.$$.fragment,re),re.forEach(i),j.forEach(i),Ae=_($),ee=f($,"LABEL",{for:!0});var Ke=d(ee);Se=w(Ke,"Password"),Ke.forEach(i),Ue=_($),A=f($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Le=_($),K(V.$$.fragment,$),Ne=_($),ue=f($,"FIELDSET",{});var Qe=d(ue);R=f(Qe,"DIV",{class:!0});var ye=d(R);G=f(ye,"LABEL",{for:!0});var we=d(G);M=f(we,"INPUT",{type:!0,id:!0,name:!0}),ke=w(we,`
				I agree to the `),W=f(we,"A",{href:!0,target:!0});var Xe=d(W);Be=w(Xe,"Terms and Conditions"),Xe.forEach(i),we.forEach(i),Ce=_(ye),H=f(ye,"LABEL",{for:!0});var Te=d(H);Y=f(Te,"INPUT",{type:!0,id:!0,name:!0}),De=w(Te,`
				I agree to the `),z=f(Te,"A",{href:!0,target:!0});var Ze=d(z);qe=w(Ze,"Privacy Policy"),Ze.forEach(i),Te.forEach(i),ye.forEach(i),Qe.forEach(i),Oe=_($),N=f($,"BUTTON",{"aria-busy":!0});var xe=d(N);Ve=w(xe,"Sign up"),xe.forEach(i),Re=_($),b&&b.l($),$.forEach(i),ve=_(o),te=f(o,"CENTER",{});var et=d(te);fe=f(et,"P",{});var tt=d(fe);ce=f(tt,"S",{});var at=d(ce);Ge=w(at,"Or create an account with:"),at.forEach(i),tt.forEach(i),et.forEach(i),Ee=_(o),U=f(o,"DIV",{class:!0});var le=d(U);k=f(le,"A",{role:!0,class:!0,id:!0,"data-tooltip":!0});var rt=d(k);de=f(rt,"I",{class:!0}),d(de).forEach(i),rt.forEach(i),He=_(le),B=f(le,"A",{role:!0,class:!0,id:!0,"data-tooltip":!0});var lt=d(B);pe=f(lt,"I",{class:!0}),d(pe).forEach(i),lt.forEach(i),Fe=_(le),C=f(le,"A",{role:!0,class:!0,id:!0,"data-tooltip":!0});var st=d(C);me=f(st,"I",{class:!0}),d(me).forEach(i),st.forEach(i),le.forEach(i),this.h()},h(){s(t,"class","page-name-header"),s(E,"for","username"),s(v,"type","username"),s(v,"name","username"),s(v,"id","username"),s(v,"placeholder","Goof"),s(q,"for","email"),s(P,"type","email"),s(P,"name","email"),s(P,"id","email"),s(P,"placeholder","goof@goofle.com"),s(n,"class","grid"),s(ee,"for","password"),s(A,"type","password"),s(A,"name","password"),s(A,"id","password"),s(A,"placeholder","Password"),s(M,"type","checkbox"),s(M,"id","terms"),s(M,"name","terms"),s(W,"href","/terms"),s(W,"target","_blank"),s(G,"for","terms"),s(Y,"type","checkbox"),s(Y,"id","privacy"),s(Y,"name","privacy"),s(z,"href","/privacy"),s(z,"target","_blank"),s(H,"for","privacy"),s(R,"class","grid"),N.disabled=be=!c[5].valid,s(N,"aria-busy",c[4]),s(a,"method","POST"),s(de,"class","bi bi-google"),s(k,"role","button"),s(k,"class","oauth-button secondary"),s(k,"id","google-oauth"),s(k,"data-tooltip","Signup with Google"),s(pe,"class","bi bi-discord"),s(B,"role","button"),s(B,"class","oauth-button secondary"),s(B,"id","discord-oauth"),s(B,"data-tooltip","Signup with Discord"),s(me,"class","bi bi-github"),s(C,"role","button"),s(C,"class","oauth-button secondary"),s(C,"id","github-oauth"),s(C,"data-tooltip","Signup with GitHub"),s(U,"class","grid")},m(o,m){T(o,t,m),r(t,e),T(o,l,m),T(o,a,m),r(a,n),r(n,p),r(p,E),r(E,I),r(p,F),r(p,v),se(v,c[0]),r(p,oe),Q(L,p,null),r(n,ie),r(n,S),r(S,q),r(q,g),r(S,ge),r(S,P),se(P,c[1]),r(S,Pe),Q(O,S,null),r(a,Ae),r(a,ee),r(ee,Se),r(a,Ue),r(a,A),se(A,c[2]),r(a,Le),Q(V,a,null),r(a,Ne),r(a,ue),r(ue,R),r(R,G),r(G,M),r(G,ke),r(G,W),r(W,Be),r(R,Ce),r(R,H),r(H,Y),r(H,De),r(H,z),r(z,qe),r(a,Oe),r(a,N),r(N,Ve),r(a,Re),b&&b.m(a,null),T(o,ve,m),T(o,te,m),r(te,fe),r(fe,ce),r(ce,Ge),T(o,Ee,m),T(o,U,m),r(U,k),r(k,de),r(U,He),r(U,B),r(B,pe),r(U,Fe),r(U,C),r(C,me),ae=!0,Me||(ze=[he(v,"input",c[9]),ne(_e.call(null,v,[$e])),he(P,"input",c[10]),ne(_e.call(null,P,[$e,bt])),he(A,"input",c[11]),ne(_e.call(null,A,[$e])),ne(_e.call(null,M,[$e])),ne(_e.call(null,Y,[$e])),he(N,"click",c[7]),ne(c[6].call(null,a)),he(a,"submit",mt(c[8]))],Me=!0)},p(o,[m]){m&1&&se(v,o[0]);const $={};m&8192&&($.$$scope={dirty:m,ctx:o}),L.$set($),m&2&&P.value!==o[1]&&se(P,o[1]);const j={};m&8192&&(j.$$scope={dirty:m,ctx:o}),O.$set(j),m&4&&A.value!==o[2]&&se(A,o[2]);const D={};m&8192&&(D.$$scope={dirty:m,ctx:o}),V.$set(D),(!ae||m&32&&be!==(be=!o[5].valid))&&(N.disabled=be),(!ae||m&16)&&s(N,"aria-busy",o[4]),o[3]?b?b.p(o,m):(b=ut(o),b.c(),b.m(a,null)):b&&(b.d(1),b=null)},i(o){ae||(X(L.$$.fragment,o),X(O.$$.fragment,o),X(V.$$.fragment,o),ae=!0)},o(o){Z(L.$$.fragment,o),Z(O.$$.fragment,o),Z(V.$$.fragment,o),ae=!1},d(o){o&&i(t),o&&i(l),o&&i(a),x(L),x(O),x(V),b&&b.d(),o&&i(ve),o&&i(te),o&&i(Ee),o&&i(U),Me=!1,ht(ze)}}}var St=!0;function Ut(c,t,e){let l,a;nt(c,gt,g=>e(12,l=g));const n=vt();nt(c,n,g=>e(5,a=g));var p="",E="",I="";let F,v=!1;async function oe(){try{e(4,v=!0),e(3,F=!1);const g={username:p,email:E,emailVisibility:St,password:I,passwordConfirm:I,role:"facilitator"};await ot.collection("users").create(g)!=null&&await ot.collection("users").authWithPassword(g.username,g.password),await Ye("/createorg")}catch(g){e(4,v=!1),console.log(g),e(3,F=g),await Ye("/signup")}}_t(async()=>{if(l)Ye("/createorg");else return});function L(g){$t.call(this,c,g)}function ie(){p=this.value,e(0,p)}function S(){E=this.value,e(1,E)}function q(){I=this.value,e(2,I)}return[p,E,I,F,v,a,n,oe,L,ie,S,q]}class Lt extends ft{constructor(t){super(),ct(this,t,Ut,At,dt,{})}}function Nt(c){let t,e,l;return e=new Lt({}),{c(){t=u("body"),J(e.$$.fragment)},l(a){t=f(a,"BODY",{});var n=d(t);K(e.$$.fragment,n),n.forEach(i)},m(a,n){T(a,t,n),Q(e,t,null),l=!0},p:pt,i(a){l||(X(e.$$.fragment,a),l=!0)},o(a){Z(e.$$.fragment,a),l=!1},d(a){a&&i(t),x(e)}}}class Ot extends ft{constructor(t){super(),ct(this,t,null,Nt,dt,{})}}export{Ot as default};
