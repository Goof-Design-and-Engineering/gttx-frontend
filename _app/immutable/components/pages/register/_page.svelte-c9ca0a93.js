import{S as Ce,i as Fe,s as Ge,e as Be,b as T,g as We,t as C,d as ze,f as F,h as l,I as De,R as Je,k as d,q as P,a as y,w as z,l as m,m as _,r as L,c as k,x as J,n as u,E as s,O as te,y as K,J as re,P as fe,Q as Ke,z as Q,K as Qe,u as Ye,B as de}from"../../../chunks/index-effa2c47.js";import{u as Me}from"../../../chunks/main-991480f9.js";/* empty css                                      */import{c as je,p as ye}from"../../../chunks/pocketbase-21d39c15.js";import{H as He,a as me,v as ke,r as Te,e as Xe}from"../../../chunks/validators-98527b51.js";import{g as Ve}from"../../../chunks/navigation-b2d51cf1.js";function Ze(f){let e,t,r,a,o,i,p,c,b,h,R,v,S,I,$,E,U,w,Y,A,j,X,pe,_e,q,he,G,$e,M,ge,ie,ue,Z,ae,be,ce,N,B,oe,ve,D,se,Ee,H,le,ne,we,Ie;return v=new He({props:{for:"username",$$slots:{default:[tt]},$$scope:{ctx:f}}}),A=new He({props:{for:"email",$$slots:{default:[ot]},$$scope:{ctx:f}}}),G=new me({props:{for:"password",on:"required",$$slots:{default:[st]},$$scope:{ctx:f}}}),{c(){e=d("h1"),t=P("Register"),r=y(),a=d("form"),o=d("div"),i=d("div"),p=d("label"),c=P("Username"),b=y(),h=d("input"),R=y(),z(v.$$.fragment),S=y(),I=d("div"),$=d("label"),E=P("Email Address"),U=y(),w=d("input"),Y=y(),z(A.$$.fragment),j=y(),X=d("label"),pe=P("Password"),_e=y(),q=d("input"),he=y(),z(G.$$.fragment),$e=y(),M=d("button"),ge=P("Sign up"),ue=y(),Z=d("center"),ae=d("p"),be=P("Or create an account with:"),ce=y(),N=d("div"),B=d("a"),oe=d("i"),ve=y(),D=d("a"),se=d("i"),Ee=y(),H=d("a"),le=d("i"),this.h()},l(n){e=m(n,"H1",{class:!0});var g=_(e);t=L(g,"Register"),g.forEach(l),r=k(n),a=m(n,"FORM",{method:!0});var O=_(a);o=m(O,"DIV",{class:!0});var W=_(o);i=m(W,"DIV",{});var V=_(i);p=m(V,"LABEL",{for:!0});var Pe=_(p);c=L(Pe,"Username"),Pe.forEach(l),b=k(V),h=m(V,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),R=k(V),J(v.$$.fragment,V),V.forEach(l),S=k(W),I=m(W,"DIV",{});var x=_(I);$=m(x,"LABEL",{for:!0});var Le=_($);E=L(Le,"Email Address"),Le.forEach(l),U=k(x),w=m(x,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),Y=k(x),J(A.$$.fragment,x),x.forEach(l),W.forEach(l),j=k(O),X=m(O,"LABEL",{for:!0});var Ue=_(X);pe=L(Ue,"Password"),Ue.forEach(l),_e=k(O),q=m(O,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),he=k(O),J(G.$$.fragment,O),$e=k(O),M=m(O,"BUTTON",{});var Oe=_(M);ge=L(Oe,"Sign up"),Oe.forEach(l),O.forEach(l),ue=k(n),Z=m(n,"CENTER",{});var qe=_(Z);ae=m(qe,"P",{});var Ae=_(ae);be=L(Ae,"Or create an account with:"),Ae.forEach(l),qe.forEach(l),ce=k(n),N=m(n,"DIV",{class:!0});var ee=_(N);B=m(ee,"A",{href:!0,role:!0,class:!0,id:!0});var Ne=_(B);oe=m(Ne,"I",{class:!0}),_(oe).forEach(l),Ne.forEach(l),ve=k(ee),D=m(ee,"A",{href:!0,role:!0,class:!0,id:!0});var Re=_(D);se=m(Re,"I",{class:!0}),_(se).forEach(l),Re.forEach(l),Ee=k(ee),H=m(ee,"A",{href:!0,role:!0,class:!0,id:!0});var Se=_(H);le=m(Se,"I",{class:!0}),_(le).forEach(l),Se.forEach(l),ee.forEach(l),this.h()},h(){u(e,"class","page-name-header"),u(p,"for","username"),u(h,"type","username"),u(h,"name","username"),u(h,"id","username"),u(h,"placeholder","Goof"),u($,"for","email"),u(w,"type","email"),u(w,"name","email"),u(w,"id","email"),u(w,"placeholder","goof@goofle.com"),u(o,"class","grid"),u(X,"for","password"),u(q,"type","password"),u(q,"name","password"),u(q,"id","password"),u(q,"placeholder","Password"),M.disabled=ie=!f[4].valid,u(a,"method","POST"),u(oe,"class","bi bi-google"),u(B,"href","https://www.google.com"),u(B,"role","button"),u(B,"class","oauth-button secondary"),u(B,"id","google-oauth"),u(se,"class","bi bi-discord"),u(D,"href","https://www.discord.com"),u(D,"role","button"),u(D,"class","oauth-button secondary"),u(D,"id","discord-oauth"),u(le,"class","bi bi-github"),u(H,"href","https://www.github.com"),u(H,"role","button"),u(H,"class","oauth-button secondary"),u(H,"id","github-oauth"),u(N,"class","grid")},m(n,g){T(n,e,g),s(e,t),T(n,r,g),T(n,a,g),s(a,o),s(o,i),s(i,p),s(p,c),s(i,b),s(i,h),te(h,f[0]),s(i,R),K(v,i,null),s(o,S),s(o,I),s(I,$),s($,E),s(I,U),s(I,w),te(w,f[1]),s(I,Y),K(A,I,null),s(a,j),s(a,X),s(X,pe),s(a,_e),s(a,q),te(q,f[2]),s(a,he),K(G,a,null),s(a,$e),s(a,M),s(M,ge),T(n,ue,g),T(n,Z,g),s(Z,ae),s(ae,be),T(n,ce,g),T(n,N,g),s(N,B),s(B,oe),s(N,ve),s(N,D),s(D,se),s(N,Ee),s(N,H),s(H,le),ne=!0,we||(Ie=[re(h,"input",f[9]),fe(ke.call(null,h,[Te])),re(w,"input",f[10]),fe(ke.call(null,w,[Te,Xe])),re(q,"input",f[11]),fe(ke.call(null,q,[Te])),re(M,"click",f[6]),fe(f[5].call(null,a)),re(a,"submit",Ke(f[8]))],we=!0)},p(n,g){g&1&&te(h,n[0]);const O={};g&8192&&(O.$$scope={dirty:g,ctx:n}),v.$set(O),g&2&&w.value!==n[1]&&te(w,n[1]);const W={};g&8192&&(W.$$scope={dirty:g,ctx:n}),A.$set(W),g&4&&q.value!==n[2]&&te(q,n[2]);const V={};g&8192&&(V.$$scope={dirty:g,ctx:n}),G.$set(V),(!ne||g&16&&ie!==(ie=!n[4].valid))&&(M.disabled=ie)},i(n){ne||(F(v.$$.fragment,n),F(A.$$.fragment,n),F(G.$$.fragment,n),ne=!0)},o(n){C(v.$$.fragment,n),C(A.$$.fragment,n),C(G.$$.fragment,n),ne=!1},d(n){n&&l(e),n&&l(r),n&&l(a),Q(v),Q(A),Q(G),n&&l(ue),n&&l(Z),n&&l(ce),n&&l(N),we=!1,Qe(Ie)}}}function xe(f){let e,t,r=f[3].username+"",a,o,i,p,c,b,h,R,v,S,I,$;return{c(){e=d("p"),t=P("Looks like you're already signed into an account (Hi, "),a=P(r),o=P(`!).
		Sign out to make a new account, or head to the login page to login.`),i=y(),p=d("div"),c=d("form"),b=d("button"),h=P("Login"),R=y(),v=d("button"),S=P("Logout"),this.h()},l(E){e=m(E,"P",{});var U=_(e);t=L(U,"Looks like you're already signed into an account (Hi, "),a=L(U,r),o=L(U,`!).
		Sign out to make a new account, or head to the login page to login.`),U.forEach(l),i=k(E),p=m(E,"DIV",{class:!0});var w=_(p);c=m(w,"FORM",{method:!0,action:!0});var Y=_(c);b=m(Y,"BUTTON",{});var A=_(b);h=L(A,"Login"),A.forEach(l),Y.forEach(l),R=k(w),v=m(w,"BUTTON",{class:!0});var j=_(v);S=L(j,"Logout"),j.forEach(l),w.forEach(l),this.h()},h(){u(c,"method","POST"),u(c,"action","?/login"),u(v,"class","secondary"),u(p,"class","grid")},m(E,U){T(E,e,U),s(e,t),s(e,a),s(e,o),T(E,i,U),T(E,p,U),s(p,c),s(c,b),s(b,h),s(p,R),s(p,v),s(v,S),I||($=re(v,"click",f[7]),I=!0)},p(E,U){U&8&&r!==(r=E[3].username+"")&&Ye(a,r)},i:de,o:de,d(E){E&&l(e),E&&l(i),E&&l(p),I=!1,$()}}}function et(f){let e;return{c(){e=P("This is a mandatory field")},l(t){e=L(t,"This is a mandatory field")},m(t,r){T(t,e,r)},d(t){t&&l(e)}}}function tt(f){let e,t;return e=new me({props:{on:"required",$$slots:{default:[et]},$$scope:{ctx:f}}}),{c(){z(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,a){K(e,r,a),t=!0},p(r,a){const o={};a&8192&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Q(e,r)}}}function rt(f){let e;return{c(){e=P("This is a mandatory field")},l(t){e=L(t,"This is a mandatory field")},m(t,r){T(t,e,r)},d(t){t&&l(e)}}}function at(f){let e,t,r;return{c(){e=d("i"),t=d("center"),r=P("Email is not valid")},l(a){e=m(a,"I",{});var o=_(e);t=m(o,"CENTER",{});var i=_(t);r=L(i,"Email is not valid"),i.forEach(l),o.forEach(l)},m(a,o){T(a,e,o),s(e,t),s(t,r)},p:de,d(a){a&&l(e)}}}function ot(f){let e,t,r,a;return e=new me({props:{on:"required",$$slots:{default:[rt]},$$scope:{ctx:f}}}),r=new me({props:{on:"email",hideWhenRequired:!0,$$slots:{default:[at]},$$scope:{ctx:f}}}),{c(){z(e.$$.fragment),t=y(),z(r.$$.fragment)},l(o){J(e.$$.fragment,o),t=k(o),J(r.$$.fragment,o)},m(o,i){K(e,o,i),T(o,t,i),K(r,o,i),a=!0},p(o,i){const p={};i&8192&&(p.$$scope={dirty:i,ctx:o}),e.$set(p);const c={};i&8192&&(c.$$scope={dirty:i,ctx:o}),r.$set(c)},i(o){a||(F(e.$$.fragment,o),F(r.$$.fragment,o),a=!0)},o(o){C(e.$$.fragment,o),C(r.$$.fragment,o),a=!1},d(o){Q(e,o),o&&l(t),Q(r,o)}}}function st(f){let e;return{c(){e=P("This is a mandatory field")},l(t){e=L(t,"This is a mandatory field")},m(t,r){T(t,e,r)},d(t){t&&l(e)}}}function lt(f){let e,t,r,a;const o=[xe,Ze],i=[];function p(c,b){return c[3]?0:1}return e=p(f),t=i[e]=o[e](f),{c(){t.c(),r=Be()},l(c){t.l(c),r=Be()},m(c,b){i[e].m(c,b),T(c,r,b),a=!0},p(c,[b]){let h=e;e=p(c),e===h?i[e].p(c,b):(We(),C(i[h],1,1,()=>{i[h]=null}),ze(),t=i[e],t?t.p(c,b):(t=i[e]=o[e](c),t.c()),F(t,1),t.m(r.parentNode,r))},i(c){a||(F(t),a=!0)},o(c){C(t),a=!1},d(c){i[e].d(c),c&&l(r)}}}var nt=!0;function it(f,e,t){let r,a;De(f,je,$=>t(3,r=$));const o=Me();De(f,o,$=>t(4,a=$));var i="",p="",c="";async function b(){try{const $={username:i,email:p,emailVisibility:nt,password:c,passwordConfirm:c,name:"test",role:"facilitator",org:"itqo87s9chb4qk8"};await ye.collection("users").create($)!=null&&await ye.collection("users").authWithPassword($.username,$.password),await Ve("/account")}catch($){console.log($),await Ve("/signup")}}async function h(){ye.authStore.clear()}function R($){Je.call(this,f,$)}function v(){i=this.value,t(0,i)}function S(){p=this.value,t(1,p)}function I(){c=this.value,t(2,c)}return[i,p,c,r,a,o,b,h,R,v,S,I]}class ut extends Ce{constructor(e){super(),Fe(this,e,it,lt,Ge,{})}}function ct(f){let e,t,r;return t=new ut({}),{c(){e=d("body"),z(t.$$.fragment)},l(a){e=m(a,"BODY",{});var o=_(e);J(t.$$.fragment,o),o.forEach(l)},m(a,o){T(a,e,o),K(t,e,null),r=!0},p:de,i(a){r||(F(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&l(e),Q(t)}}}function ft(f){return Me(),[]}class gt extends Ce{constructor(e){super(),Fe(this,e,ft,ct,Ge,{})}}export{gt as default};
